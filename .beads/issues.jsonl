{"id":"ax-057","title":"DOC: Why Git Worktree Rationale","description":"## Context\n00-overview.md mentions \"git worktree per agent\" but doesn't explain WHY this architectural decision was made.\n\n## Problem\nDevelopers don't understand trade-offs and benefits.\n\n## Acceptance Criteria\n- [ ] Add rationale section explaining:\n  - Why worktree vs separate clones\n  - Benefits (shared .git, fast, disk efficient)\n  - Trade-offs\n- [ ] Brief comparison with alternatives\n\n## Files\n- docs/00-overview.md\n\n## Example Content\n```markdown\n**Why git worktree?**\n- Shares .git directory (disk efficient)\n- Instant branch creation (no clone delay)\n- Shared object database (fast operations)\n- Clean isolation (no merge conflicts during work)\n```","status":"closed","priority":3,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T17:47:18.808454+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T17:53:46.237538+03:00","closed_at":"2026-01-26T17:53:46.237538+03:00","close_reason":"Closed","labels":["docs"]}
{"id":"ax-0z9","title":"PLAN: Ava (Init Agent) Role Definition","description":"## What\nDefine Ava's role as the project-level technical analyst and config creator.\n\n## Status: COMPLETE ✓\n\nAll decisions have been made and documented in this task. The actual docs updates will be done in ax-d0r.\n\n## Final Decisions\n\n| Decision | Result |\n|----------|--------|\n| Ava stays | ✅ Yes, project-level analyst |\n| analysis.json | ❌ No, only config.json |\n| Settings page | ❌ No, user edits config.json directly |\n| Ava trigger | Command palette in Web UI |\n| project.mode in config | ❌ No, runtime detection only |\n\n## Ava's Core Responsibility\n\n**Ava answers ALL project-level questions and creates config.json.**\n\n### Questions Ava Must Answer\n\n**Technical Detection:**\n- What language/framework?\n- What build tool?\n- What test framework and command?\n- What linter/formatter and commands?\n\n**Structure Detection:**\n- Where are entry points?\n- What's the package structure?\n- What naming conventions?\n\n**User Preferences:**\n- Verification command customization\n- Timeout preferences\n- Any overrides to detected values\n\n## Ava's Outputs\n\nSingle file: `.axiom/config.json`\n- Contains all detected values\n- Contains user preferences\n- Schema defined in docs/01-configuration.md\n\n## When Ava Runs\n\n| Trigger | How | Effect |\n|---------|-----|--------|\n| First run | No .axiom/ folder | Full onboarding + config creation |\n| Command palette | User clicks \"Talk to Ava\" | Open Ava conversation |\n| Re-analyze request | In Ava conversation | Re-scan project, update config |\n\n## Ava vs Axel (Clear Separation)\n\n| Aspect | Ava | Axel |\n|--------|-----|------|\n| Scope | Project-level | Goal-specific |\n| Runs when | First setup + on-demand | Every planning cycle |\n| Questions | \"What tech stack?\" | \"What files for this feature?\" |\n| Output | config.json | Cases (Draft → Task) |\n| Trigger | .axiom/ missing OR command palette | User provides goal |\n\n## Onboarding Flow\n\nFirst run (no .axiom/):\n```\nAva introduces herself\n    ↓\nAva scans project (shows progress)\n    ↓\nAva shows detections\n    ↓\nAva asks clarifying questions (if needed)\n    ↓\nAva creates config.json\n    ↓\nAva hands off to Axel: \"Project setup complete. What would you like to build?\"\n```\n\n## Returning User Flow\n\nCommand palette → \"Talk to Ava\":\n```\nAva: \"Hi again! What can I help you with?\"\n    - Re-analyze project\n    - Update verification commands\n    - Change agent settings\n    - Something else\n    ↓\nUser selects or describes\n    ↓\nAva handles request\n    ↓\nAva updates config.json if needed\n```\n\n## Ava's State Awareness\n\nAva must check at startup:\n```\nif !exists(\".axiom/config.json\") {\n    // First run - full onboarding\n} else {\n    // Returning user - ask what they need\n}\n```\n\n## References\n- docs/01-configuration.md (config schema)\n- docs/05-agents.md (agent definitions - will be updated in ax-d0r)\n\n## Related\n- ax-isd (Ava prompt template - implements this role)\n- ax-c4g (Greenfield/brownfield detection)\n- ax-d0r (Docs update - will update docs/05-agents.md)","status":"closed","priority":2,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T22:48:33.128923+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T23:44:48.473827+03:00","closed_at":"2026-01-26T23:44:48.473827+03:00","close_reason":"Role definition complete. All decisions documented in task body. Docs updates moved to ax-d0r.","labels":["docs"]}
{"id":"ax-1av","title":"PLAN: Claude CLI Detection","description":"## Question\nClaude CLI kurulu mu ve nerede?\n\n## Decision: Option A - Runtime Check (Gastown Style)\n\n**Seçilen yaklaşım:** Spawn anında `exec.LookPath(\"claude\")` çağır.\n\n### Rationale\n- Gastown da bu şekilde yapıyor\n- Minimal - ekstra startup logic yok\n- OS zaten PATH lookup'ı cache'liyor\n- Config'de path tutmaya gerek yok\n\n### Implementation\n```go\nfunc (s *Spawner) Spawn(prompt string) (*Process, error) {\n    binPath, err := exec.LookPath(\"claude\")\n    if err != nil {\n        return nil, fmt.Errorf(\"claude CLI not found: %w\\n\\nInstall with: npm install -g @anthropic-ai/claude-code\", err)\n    }\n    \n    cmd := exec.Command(binPath, \"--print\", \"--dangerously-skip-permissions\")\n    // ...\n}\n```\n\n### Error Message\n```\nclaude CLI not found: exec: \"claude\": executable file not found in $PATH\n\nInstall with: npm install -g @anthropic-ai/claude-code\n```\n\n### What We're NOT Doing\n- ❌ Startup check\n- ❌ Path caching in config\n- ❌ Version check\n- ❌ Multiple location fallbacks\n\n### Reference\n- Gastown: `internal/cmd/crew_helpers.go:183`","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T00:47:12.205265+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T00:58:35.17984+03:00","closed_at":"2026-01-27T00:58:35.17984+03:00","close_reason":"Closed","labels":["m3-agent"]}
{"id":"ax-1ku","title":"PLAN: MVP-03 - Tasks from Storage","description":"## Goal\nRead tasks from a file instead of hardcoded data.\n\n## What We'll SEE\nSame task list UI, but data comes from `.axiom/tasks.jsonl`\n\n## Scope\n### Doing\n- Read tasks from JSONL file\n- Use existing Task struct (ID, Title, Status)\n- Display in current UI\n\n### NOT Doing (yet)\n- Full CaseStore API\n- Case types (Directive, Draft, etc.)\n- Create/Update/Delete operations\n- Schema changes to Task struct\n\n## Minimum Infrastructure\n- JSONL file reader\n- Task unmarshaling\n- Error handling for missing file\n\n## Success Criteria\n- Tasks load from `.axiom/tasks.jsonl`\n- UI shows file-based tasks\n- Graceful handling if file missing","status":"closed","priority":1,"issue_type":"epic","owner":"ye@deligoz.me","created_at":"2026-01-26T21:52:00.763638+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T21:53:41.905136+03:00","closed_at":"2026-01-26T21:53:41.905136+03:00","close_reason":"Closed","labels":["mvp"]}
{"id":"ax-1ku.1","title":"F03: Load Tasks from File","description":"## What\nLoad tasks from .axiom/tasks.jsonl instead of hardcoded data.\n\n## Acceptance Criteria\n- TaskStore.Load() reads JSONL file\n- Server uses TaskStore for task data\n- UI displays file-based tasks\n- 4+ tests pass","status":"closed","priority":1,"issue_type":"feature","owner":"ye@deligoz.me","created_at":"2026-01-26T21:53:18.724487+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T21:58:33.983211+03:00","closed_at":"2026-01-26T21:58:33.983211+03:00","close_reason":"Closed","labels":["mvp"],"dependencies":[{"issue_id":"ax-1ku.1","depends_on_id":"ax-1ku","type":"parent-child","created_at":"2026-01-26T21:53:18.725297+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-1ku.1.1","title":"F03.1: TaskStore with Load method","description":"## Test Case\n`TestTaskStore_Load_ReturnsTasksFromFile`\n\n## Expected Behavior\nWhen given a valid JSONL file path, Load() returns []Task.\n\n## Acceptance\n- [ ] Test written and RED\n- [ ] Implementation GREEN\n- [ ] Committed","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T21:53:25.553535+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T21:55:04.362916+03:00","closed_at":"2026-01-26T21:55:04.362916+03:00","close_reason":"Closed","labels":["mvp"],"dependencies":[{"issue_id":"ax-1ku.1.1","depends_on_id":"ax-1ku.1","type":"parent-child","created_at":"2026-01-26T21:53:25.55438+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-1ku.1.2","title":"F03.2: Load handles missing file","description":"## Test Case\n`TestTaskStore_Load_MissingFile_ReturnsError`\n\n## Expected Behavior\nWhen file doesn't exist, Load() returns appropriate error.\n\n## Acceptance\n- [ ] Test written and RED\n- [ ] Implementation GREEN\n- [ ] Committed","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T21:53:34.013749+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T21:55:44.747526+03:00","closed_at":"2026-01-26T21:55:44.747526+03:00","close_reason":"Closed","labels":["mvp"],"dependencies":[{"issue_id":"ax-1ku.1.2","depends_on_id":"ax-1ku.1","type":"parent-child","created_at":"2026-01-26T21:53:34.014579+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-1ku.1.3","title":"F03.3: Wire TaskStore to Server","description":"## Test Case\n`TestServer_UsesTaskStore`\n\n## Expected Behavior\nServer reads tasks from TaskStore instead of hardcoded GetTasks().\n\n## Acceptance\n- [ ] Test written and RED\n- [ ] Implementation GREEN\n- [ ] Committed","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T21:53:34.095647+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T21:57:47.527998+03:00","closed_at":"2026-01-26T21:57:47.527998+03:00","close_reason":"Closed","labels":["mvp"],"dependencies":[{"issue_id":"ax-1ku.1.3","depends_on_id":"ax-1ku.1","type":"parent-child","created_at":"2026-01-26T21:53:34.096453+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-1ku.1.4","title":"F03.4: Sample tasks.jsonl file","description":"## No Test (file creation)\n\nCreate .axiom/tasks.jsonl with sample data.\n\n## Acceptance\n- [ ] File created\n- [ ] Server loads and displays tasks\n- [ ] Committed","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T21:53:34.176033+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T21:58:33.92938+03:00","closed_at":"2026-01-26T21:58:33.92938+03:00","close_reason":"Closed","labels":["mvp"],"dependencies":[{"issue_id":"ax-1ku.1.4","depends_on_id":"ax-1ku.1","type":"parent-child","created_at":"2026-01-26T21:53:34.176867+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-1yu","title":"DOC: Invalid Signal Handling","description":"## Context\nBefore starting, review docs/05-agents.md (Signal Protocol) and docs/07-execution.md.\n\n## Problem\nNo documentation on handling malformed or invalid signals from agents.\nExample: \"\u003caxiom\u003eCOMPLET\u003c/axiom\u003e\" (typo) or \"\u003caxiom\u003eUNKNOWN_TYPE\u003c/axiom\u003e\"\n\n## Acceptance Criteria\n- [ ] Document signal validation rules\n- [ ] Define fallback behavior for invalid signals (treat as no signal?)\n- [ ] Add signal validation regex/parser spec\n- [ ] Document error logging for invalid signals\n- [ ] Add to 15-errors.md\n\n## Files\n- docs/05-agents.md\n- docs/07-execution.md\n- docs/15-errors.md","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T15:59:58.007102+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T16:45:25.693857+03:00","closed_at":"2026-01-26T16:45:25.693857+03:00","close_reason":"Closed","labels":["m3-execution"],"dependencies":[{"issue_id":"ax-1yu","depends_on_id":"ax-8kc","type":"blocks","created_at":"2026-01-26T16:01:53.490364+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-247","title":"BUG: Ava kullanıcı yazmadan Türkçe başlıyor","description":"## Problem\nAva kullanıcı hiç yazmadan Türkçe'ye başlıyor. Language rule \"Match the user's language from their first message\" diyor ama ilk mesaj yok.\n\n## Çözüm\nDefault dil İngilizce olmalı. Kullanıcı ilk mesajını yazana kadar İngilizce konuş.\n\n## Files\n- internal/agent/prompts/ava.md.tmpl","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T10:19:22.505875+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T10:21:05.313829+03:00","closed_at":"2026-01-27T10:21:05.313829+03:00","close_reason":"Closed","labels":["bug"]}
{"id":"ax-2qj","title":"DOC: Add Completion Drive to glossary","description":"## Context\nScout review found \"Completion Drive\" (formerly Ralph Loop) not documented.\n\n## Problem\nThe execution loop pattern has been renamed but glossary doesn't reflect this.\n\n## Acceptance Criteria\n- [ ] Add Completion Drive entry to 16-glossary.md\n- [ ] Cross-reference with 07-execution.md\n\n## Files\n- docs/16-glossary.md","status":"closed","priority":2,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T17:08:28.980122+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T17:11:18.76593+03:00","closed_at":"2026-01-26T17:11:18.76593+03:00","close_reason":"Closed","labels":["m7-autopilot"]}
{"id":"ax-2wz","title":"DOC: Discovery Outdated Detection Algorithm","description":"## Context\n08-discovery.md mentions \"automatic outdated detection\" but doesn't explain the algorithm.\n\n## Acceptance Criteria\n- [ ] Add \"Outdated Detection\" section\n- [ ] Document detection triggers (file deleted, function renamed, API changed)\n- [ ] Explain how Cleo monitors commits for patterns\n\n## Files\n- docs/08-discovery.md","status":"closed","priority":3,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T17:49:03.383202+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T18:05:26.331071+03:00","closed_at":"2026-01-26T18:05:26.331071+03:00","close_reason":"Closed","labels":["docs"]}
{"id":"ax-360","title":"DOC: Good Discovery Criteria","description":"## Context\n08-discovery.md explains what discoveries are but not what makes a GOOD discovery vs bad one.\n\n## Problem\nAgents need guidance on what to emit as discoveries.\n\n## Acceptance Criteria\n- [ ] Add \"Writing Quality Discoveries\" section\n- [ ] Examples of high-value discoveries\n- [ ] Examples of low-value discoveries to avoid\n- [ ] Guidance: when to use LOCAL vs GLOBAL\n- [ ] Rule of thumb for scope selection\n\n## Files\n- docs/08-discovery.md","status":"closed","priority":3,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T17:47:26.342834+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T17:54:29.202854+03:00","closed_at":"2026-01-26T17:54:29.202854+03:00","close_reason":"Closed","labels":["docs"]}
{"id":"ax-3iq","title":"PLAN: Agent Spawner - Prompt Source","description":"## Question\nPrompt nereden geliyor ve nasıl gönderiliyor?\n\n## Decision: --system-prompt Flag\n\n### Claude CLI Options\n- `--system-prompt \u003cprompt\u003e` → Agent persona/instructions\n- `[prompt]` positional arg → Initial user message  \n- `stdin` → Pipe input (with --print)\n\n### For Ava\n```bash\nclaude --print \\\n  --dangerously-skip-permissions \\\n  --system-prompt \"$(cat .axiom/agents/ava/prompt.md)\"\n```\n\n- **System prompt** = Ava'nın tüm instruction'ları (prompt.md)\n- **User message** = Yok (Ava kendi başlatıyor, \"Check State\" ile)\n\n### Implementation\n```go\nfunc (s *Spawner) Spawn(promptPath string) (*Process, error) {\n    // Read prompt file\n    promptContent, err := os.ReadFile(promptPath)\n    if err != nil {\n        return nil, fmt.Errorf(\"reading prompt: %w\", err)\n    }\n    \n    binPath, _ := exec.LookPath(\"claude\")\n    \n    cmd := exec.Command(binPath,\n        \"--print\",\n        \"--dangerously-skip-permissions\", \n        \"--system-prompt\", string(promptContent),\n    )\n    // ...\n}\n```\n\n### Why Not Stdin?\n- Stdin is for user messages, not system prompts\n- `--system-prompt` is the native way\n- Simpler - no pipe handling needed\n\n### Future: Task Prompts\nEcho (implementation agent) will receive task prompts:\n```bash\nclaude --print \\\n  --dangerously-skip-permissions \\\n  --system-prompt \"$(cat echo-prompt.md)\" \\\n  \"Implement the login feature\"\n```","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T00:46:07.957295+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T00:59:48.253845+03:00","closed_at":"2026-01-27T00:59:48.253845+03:00","close_reason":"Closed","labels":["m3-agent"]}
{"id":"ax-3kj","title":"Add markdown rendering with code highlighting","description":"## What\nRender markdown in agent output:\n- Bold, italic, lists\n- Code blocks with syntax highlighting\n- Inline code\n\n## Options\n1. marked.js + highlight.js (client-side)\n2. goldmark (server-side Go)\n\n## Acceptance Criteria\n- [ ] **bold** renders as bold\n- [ ] \\`code\\` renders as inline code\n- [ ] Code blocks have syntax highlighting\n- [ ] Lists render properly\n\n## Files\n- internal/web/templates/layout.html\n- static/js/ (if client-side)","status":"open","priority":2,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T10:52:27.877309+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T10:52:27.877309+03:00","labels":["m6-ui"]}
{"id":"ax-46a","title":"Ava prompt: Introduction and language detection","description":"## Problem\n1. Ava doesn't introduce herself at start\n2. Ava always responds in Turkish regardless of user language\n\n## Solution\nUpdate .axiom/agents/ava/prompt.md:\n- Start with self-introduction\n- Explain what she'll do\n- Ask user to continue\n- Add instruction: respond in user's language\n\n## Acceptance Criteria\n- [ ] Ava introduces herself on spawn\n- [ ] Ava explains her role and next steps\n- [ ] Ava asks \"Ready to continue?\"\n- [ ] Ava responds in user's language (not hardcoded Turkish)","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T09:53:21.202831+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T09:59:35.496533+03:00","closed_at":"2026-01-27T09:59:35.496533+03:00","close_reason":"Closed","labels":["m3-agent"]}
{"id":"ax-49t","title":"DOC: Uncommitted Changes Warning","description":"## Context\nBefore starting, review docs/02-modes.md and docs/09-intervention.md.\n\n## Problem\nNo documentation on behavior when working directory has uncommitted changes at startup.\n\n## Questions to Answer\n- Should AXIOM warn about uncommitted changes?\n- Should it refuse to start?\n- Should it auto-stash?\n\n## Acceptance Criteria\n- [ ] Document uncommitted changes handling policy\n- [ ] Add warning message to 02-modes.md Init flow\n- [ ] Consider adding to config: `init.allowDirtyWorkdir`\n\n## Files\n- docs/02-modes.md\n- docs/01-configuration.md","status":"closed","priority":2,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T15:59:10.938937+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T16:58:51.76158+03:00","closed_at":"2026-01-26T16:58:51.76158+03:00","close_reason":"Closed","labels":["m1-init"]}
{"id":"ax-4aw","title":"DOC: Checkpoint Rotation Policy","description":"## Context\nBefore starting, review docs/09-intervention.md (Checkpoint System).\n\n## Problem\nNo documented limit on checkpoint count. Could fill disk over time.\nNo retention/rotation policy.\n\n## Acceptance Criteria\n- [ ] Document checkpoint retention policy\n- [ ] Add config: `checkpoints.maxCount`, `checkpoints.maxAgeDays`\n- [ ] Document automatic cleanup of old checkpoints\n- [ ] Add manual cleanup command/UI option\n\n## Files\n- docs/09-intervention.md\n- docs/01-configuration.md","status":"closed","priority":2,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T16:01:34.602876+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T17:15:23.622988+03:00","closed_at":"2026-01-26T17:15:23.622988+03:00","close_reason":"Closed","labels":["m5-recovery"],"dependencies":[{"issue_id":"ax-4aw","depends_on_id":"ax-bqj","type":"blocks","created_at":"2026-01-26T16:01:53.877969+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-4g4","title":"PLAN: Agent Spawner - Testing Strategy","description":"## Question\nGerçek claude çağırmadan nasıl test ederiz?\n\n## Decision: Pragmatic Testing (No Mocks)\n\n### Approach\nTest what we can without mocking. Accept that some code needs integration tests.\n\n### Unit Tests (internal/agent/spawner_test.go)\n```go\nfunc TestSpawn_PromptNotFound(t *testing.T) {\n    s := \u0026Spawner{}\n    _, err := s.Spawn(\"/nonexistent/prompt.md\")\n    if err == nil {\n        t.Error(\"expected error for missing prompt\")\n    }\n}\n\nfunc TestSpawn_ClaudeNotInPath(t *testing.T) {\n    // Temporarily modify PATH\n    oldPath := os.Getenv(\"PATH\")\n    os.Setenv(\"PATH\", \"/nonexistent\")\n    defer os.Setenv(\"PATH\", oldPath)\n    \n    s := \u0026Spawner{}\n    _, err := s.Spawn(\"testdata/valid-prompt.md\")\n    if err == nil || !strings.Contains(err.Error(), \"not found\") {\n        t.Errorf(\"expected 'not found' error, got: %v\", err)\n    }\n}\n```\n\n### Integration Tests (separate file)\n```go\n//go:build integration\n\nfunc TestSpawn_RealClaude(t *testing.T) {\n    // Actually spawns claude - run manually\n    s := \u0026Spawner{}\n    p, err := s.Spawn(\"testdata/echo-prompt.md\")\n    if err != nil {\n        t.Fatalf(\"spawn failed: %v\", err)\n    }\n    if !strings.Contains(p.Output, \"COMPLETE\") {\n        t.Error(\"expected COMPLETE signal\")\n    }\n}\n```\n\n### Signal Parser Tests (internal/signal/)\nThis is where most testing happens - Parse() is pure function:\n```go\nfunc TestParse_NoSignals(t *testing.T) { ... }\nfunc TestParse_SingleSignal(t *testing.T) { ... }\nfunc TestParse_MultipleSignals(t *testing.T) { ... }\nfunc TestParse_WithPayload(t *testing.T) { ... }\n```\n\n### What We're NOT Doing\n- ❌ Spawner interface + mock (over-engineering for now)\n- ❌ Fake claude binary (platform-specific)\n- ❌ Full coverage of spawn logic (accept integration test gap)","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T00:46:49.022635+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T01:02:24.598522+03:00","closed_at":"2026-01-27T01:02:24.598522+03:00","close_reason":"Closed","labels":["m3-agent"]}
{"id":"ax-4up","title":"PLAN: Echo Prompt Template Design","description":"## What\nDesign Echo's prompt template for Task implementation.\n\n## Context\nEcho is the Implementation agent responsible for:\n- Implementing atomic Tasks\n- Running verification commands\n- Emitting discovery signals\n- Signaling completion\n\nEcho works on ONE Task at a time in an isolated git worktree.\n\n## Echo's Input\n\nFrom config.json (via Ava):\n- Verification commands (test, lint, build)\n\nFrom Task (via Axel):\n- Task content and acceptance criteria\n- Parent Operation context\n\n## Prompt Structure\n\n### Identity Section\n```markdown\n# Implementer Echo Context\n\n## Your Role: IMPLEMENTER (Task Executor)\n\nYou are Echo, the Implementation agent for AXIOM. You implement atomic Tasks\nin isolated git worktrees.\n\n**Your responsibilities:**\n- Implement the assigned Task\n- Write tests that verify acceptance criteria\n- Run verification commands before signaling complete\n- Emit discovery signals for learnings\n- Signal completion when done\n\n**You do NOT:**\n- Plan or decompose work (Axel does this)\n- Set up projects (Ava does this)\n- Work on multiple Tasks (one at a time)\n- Skip verification (quality gates are mandatory)\n```\n\n### Task Section\n```markdown\n## Assigned Task\n\n**ID:** {{ .Task.ID }}\n**Content:** {{ .Task.Content }}\n\n### Acceptance Criteria\n{{ range .Task.AcceptanceCriteria }}\n- [ ] {{ . }}\n{{ end }}\n\n### Parent Operation\n{{ if .Task.Parent }}\n**Operation:** {{ .Task.Parent.Content }}\n{{ end }}\n```\n\n### Verification Section\n```markdown\n## Verification Commands (MANDATORY)\n\nYou MUST run these commands before signaling completion:\n\n{{ range .Config.Verification }}\n- {{ . }}\n{{ end }}\n\n**Quality Gate Rule:**\n- ALL commands must pass\n- Run after implementation, before COMPLETE signal\n- If any fail, fix and re-run\n```\n\n### Discovery Section\n```markdown\n## Discovery Signals\n\nWhen you learn something useful:\n\n**Local discovery** (this project only):\n\u003caxiom\u003eDISCOVERY_LOCAL:what you learned\u003c/axiom\u003e\n\n**Global discovery** (all projects):\n\u003caxiom\u003eDISCOVERY_GLOBAL:what you learned\u003c/axiom\u003e\n```\n\n### Completion Section\n```markdown\n## Completion Protocol\n\n1. Verify all acceptance criteria are met\n2. Run ALL verification commands\n3. Commit changes: \"feat: {{ .Task.Content }} [{{ .Task.ID }}]\"\n4. Signal: \u003caxiom\u003eCOMPLETE\u003c/axiom\u003e\n\n**Other signals:**\n- \u003caxiom\u003eITERATION:N\u003c/axiom\u003e - Starting iteration N\n- \u003caxiom\u003eSTUCK:reason\u003c/axiom\u003e - Cannot proceed\n- \u003caxiom\u003eBLOCKED:dependency\u003c/axiom\u003e - External blocker\n```\n\n### TDD Flow\n```markdown\n## Implementation Approach: TDD\n\n1. Write test for acceptance criterion\n2. Run test → should FAIL (RED)\n3. Implement minimum code to pass\n4. Run test → should PASS (GREEN)\n5. Refactor if needed\n6. Repeat for each criterion\n\n**Commit pattern:**\n- After GREEN: git commit -m \"test: verify X [task-id]\"\n- After implementation: git commit -m \"feat: implement X [task-id]\"\n```\n\n## Deliverables\n- [ ] Define Echo identity section\n- [ ] Define Task context injection\n- [ ] Define verification injection (from config.json)\n- [ ] Define discovery signal format\n- [ ] Define completion protocol\n- [ ] Define TDD guidance\n- [ ] Create template: internal/agent/prompts/echo.md.tmpl\n\n## References\n- gastown/templates/polecat-CLAUDE.md (Polecat prompt)\n- docs/07-execution.md (Execution loop)\n- docs/05-agents.md (Echo definition)\n- ax-rf9 (Signal format)\n\n## Related\n- ax-ns4 (Axel prompt - creates Tasks for Echo)\n- ax-rf9 (Signal format)","status":"tombstone","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T22:51:19.006484+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T01:10:54.711562+03:00","labels":["planning"],"dependencies":[{"issue_id":"ax-4up","depends_on_id":"ax-rf9","type":"blocks","created_at":"2026-01-26T22:51:48.525627+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-4up","depends_on_id":"ax-ns4","type":"blocks","created_at":"2026-01-26T23:22:21.438285+03:00","created_by":"Yunus Emre Deligöz"}],"deleted_at":"2026-01-27T01:10:54.711562+03:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"ax-4x4","title":"DOC: Empty Verification Array Behavior","description":"## Context\nBefore starting, review docs/01-configuration.md and docs/07-execution.md.\n\n## Problem\nNo documentation on behavior when config.verification is empty array.\nDoes COMPLETE signal auto-pass? Is this a valid config?\n\n## Acceptance Criteria\n- [ ] Document empty verification behavior (auto-pass on COMPLETE)\n- [ ] Add validation warning for empty verification\n- [ ] Consider: require at least one verification command?\n- [ ] Update 01-configuration.md with note\n\n## Files\n- docs/01-configuration.md\n- docs/07-execution.md","status":"closed","priority":2,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T16:00:36.619895+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T17:05:29.643865+03:00","closed_at":"2026-01-26T17:05:29.643865+03:00","close_reason":"Closed","labels":["m3-execution"]}
{"id":"ax-51k","title":"F: Signal Parser","description":"## What\nParse AXIOM signals from agent output.\n\n## Acceptance Criteria\n- [ ] `Parse(output string) []Signal` extracts all signals from text\n- [ ] Handles basic format: `\u003caxiom\u003eTYPE\u003c/axiom\u003e`\n- [ ] Handles payload format: `\u003caxiom\u003eTYPE:payload\u003c/axiom\u003e`\n- [ ] Handles metadata format: `\u003caxiom\u003eTYPE:payload|key=value\u003c/axiom\u003e`\n- [ ] Returns empty slice for no signals\n- [ ] 6 tests pass\n\n## Files\n- internal/signal/parser.go\n- internal/signal/parser_test.go","status":"tombstone","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T00:29:28.225503+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T01:10:54.528836+03:00","labels":["m3-agent"],"dependencies":[{"issue_id":"ax-51k","depends_on_id":"ax-urm","type":"blocks","created_at":"2026-01-27T00:29:42.472025+03:00","created_by":"Yunus Emre Deligöz"}],"deleted_at":"2026-01-27T01:10:54.528836+03:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"ax-5eo","title":"DOC: Incremental Planning + Autopilot Interaction","description":"## Context\nBefore starting, review docs/03-planning.md (Incremental Planning) and docs/02-modes.md (Autopilot).\n\n## Problem\nUnclear how incremental planning interacts with autopilot mode. Does it pause autopilot? Require user interaction?\n\n## Questions to Answer\n- Does incremental planning trigger pause autopilot?\n- Can planning happen in background while agents work?\n- What if user is AFK during incremental planning trigger?\n\n## Acceptance Criteria\n- [ ] Document incremental planning in autopilot context\n- [ ] Clarify user interaction requirements\n- [ ] Add config option: `planning.autopilotBehavior: pause|background|skip`\n- [ ] Update both 03-planning.md and 02-modes.md\n\n## Files\n- docs/03-planning.md\n- docs/02-modes.md\n- docs/01-configuration.md","status":"closed","priority":2,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T15:59:52.934709+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T17:03:59.990328+03:00","closed_at":"2026-01-26T17:03:59.990328+03:00","close_reason":"Closed","labels":["m2-planning"],"dependencies":[{"issue_id":"ax-5eo","depends_on_id":"ax-8kc","type":"blocks","created_at":"2026-01-26T16:01:53.401293+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-69v","title":"DOC: Verification Command Environment","description":"## Missing Documentation\n07-execution.md shows verification runs but doesn't specify:\n\n1. **Working Directory**\n   - Commands run in workspace or main directory?\n   - How to reference workspace-relative paths?\n\n2. **Environment Variables**\n   - Which AXIOM vars are available?\n   - Is PATH inherited from system?\n   - Node/Python env setup?\n\n3. **Shell Context**\n   - Which shell? (bash, sh, zsh?)\n   - How to use shell features safely?\n\n## Location\n- docs/07-execution.md - add \"Verification Environment\" subsection\n\n## Expected Content\n```markdown\n### Verification Environment\n\nCommands run in the **agent workspace directory**.\n\n**Available Environment:**\n| Variable | Value |\n|----------|-------|\n| \\`PWD\\` | Workspace path |\n| \\`AXIOM_TASK_ID\\` | Current task |\n| \\`AXIOM_AGENT\\` | Agent ID |\n| \\`PATH\\` | Inherited from system |\n\n**Shell:** Commands run via \\`sh -c \"\u003ccommand\u003e\"\\` for portability.\n```","status":"closed","priority":2,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T16:55:29.475632+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T17:12:44.016519+03:00","closed_at":"2026-01-26T17:12:44.016519+03:00","close_reason":"Closed","labels":["m3-execution"]}
{"id":"ax-6fk","title":"DOC: Event replay algorithm","description":"## What\nAdd detailed event replay algorithm for crash recovery in 09-intervention.md.\n\n## Current State\n- Event replay mentioned as fallback\n- Algorithm steps not documented\n\n## Add\n```markdown\n### Event Replay Algorithm\n1. Load .axiom/state/events.jsonl\n2. Initialize empty state\n3. For each event in order:\n   a. Validate event structure\n   b. Apply event to state\n   c. If invalid → mark event as skipped\n4. After all events:\n   - If all valid → save new snapshot\n   - If some skipped → prompt user for partial recovery\n5. Reset orphaned agents to pending\n```\n\n## Files\n- docs/09-intervention.md","status":"closed","priority":3,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T18:13:01.680409+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T18:18:42.493072+03:00","closed_at":"2026-01-26T18:18:42.493072+03:00","close_reason":"Closed","labels":["docs"]}
{"id":"ax-6vz","title":"DOC: Non-Interactive Mode in 02-modes.md","description":"## Context\nNon-interactive mode is documented in 13-reference.md (CLI section) but NOT in 02-modes.md where all operating modes are explained.\n\n## Problem\nUsers looking for mode documentation won't find non-interactive mode where they expect it.\n\n## Acceptance Criteria\n- [ ] Add \"Non-Interactive Mode\" section to 02-modes.md after \"Autopilot Mode\"\n- [ ] Document activation (--non-interactive flag, CI detection)\n- [ ] Document behavior changes table\n- [ ] Cross-reference to 13-reference.md for CLI details\n\n## Files\n- docs/02-modes.md","status":"closed","priority":2,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T17:47:10.19346+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T17:51:21.850254+03:00","closed_at":"2026-01-26T17:51:21.850254+03:00","close_reason":"Closed","labels":["docs"]}
{"id":"ax-79e","title":"DOC: Planning spiral exit conditions","description":"## What\nDocument clear exit conditions for the planning spiral in 03-planning.md.\n\n## Current State\n- Planning phases described\n- Exit conditions unclear\n\n## Add\n```markdown\n### Planning Spiral Exit Conditions\nPlanning spiral completes when ALL conditions met:\n1. All Directives have at least one Operation child\n2. All Drafts resolved (→ Operation, Research, Pending, or Deferred)\n3. No Research cases blocking Operations\n4. User explicitly approves plan\n\nPlanning can also exit via:\n- User requests \"Start Implementation\" (bypasses validation)\n- Timeout (configurable, default: none)\n```\n\n## Files\n- docs/03-planning.md","status":"closed","priority":3,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T18:13:03.804219+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T18:19:47.514037+03:00","closed_at":"2026-01-26T18:19:47.514037+03:00","close_reason":"Closed","labels":["docs"]}
{"id":"ax-7eu","title":"DOC: Merge Queue Dependency Ordering","description":"## Context\n06-integration.md mentions \"dependency-aware ordering\" but doesn't explain the algorithm.\n\n## Acceptance Criteria\n- [ ] Add \"Dependency-Aware Ordering\" subsection\n- [ ] Explain sorting by dependency depth (leaves first)\n- [ ] Show example with queue order\n\n## Files\n- docs/06-integration.md","status":"closed","priority":3,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T17:49:10.234882+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T18:05:26.333079+03:00","closed_at":"2026-01-26T18:05:26.333079+03:00","close_reason":"Closed","labels":["docs"]}
{"id":"ax-7i8","title":"BUG: Streaming'de satır sonları düzgün görünmüyor","description":"## Problem\n\"configured...\" ve sonraki metin aynı satırda görünüyor.\nNewline'lar düzgün render edilmiyor.\n\n## Araştır\n- \\n → \u003cbr\u003e dönüşümü çalışıyor mu?\n- CSS white-space ayarı gerekli mi?\n\n## Files\n- internal/web/sse.go\n- internal/web/templates/layout.html","status":"closed","priority":2,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T10:19:33.503231+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T10:22:50.351507+03:00","closed_at":"2026-01-27T10:22:50.351507+03:00","close_reason":"Closed","labels":["bug"]}
{"id":"ax-7n0","title":"DOC: Corrupted Event Log Recovery","description":"## Context\nBefore starting, review docs/09-intervention.md (Crash Recovery, Event Replay).\n\n## Problem\nEvent replay is fallback when snapshot invalid, but what if events.jsonl\nis also corrupted (truncated during crash)?\n\n## Acceptance Criteria\n- [ ] Document event log validation\n- [ ] Document partial replay recovery (replay valid prefix)\n- [ ] Document fallback when both snapshot and events corrupted\n- [ ] Consider: periodic event log checksum/backup\n\n## Files\n- docs/09-intervention.md\n- docs/15-errors.md","status":"closed","priority":2,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T16:01:38.877867+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T17:16:41.846828+03:00","closed_at":"2026-01-26T17:16:41.846828+03:00","close_reason":"Closed","labels":["m5-recovery"],"dependencies":[{"issue_id":"ax-7n0","depends_on_id":"ax-o3x","type":"blocks","created_at":"2026-01-26T16:01:53.943972+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-7or","title":"PLAN: MVP-06 Interactive Agent Mode","description":"## Goal\nReal-time streaming for agent output (character-by-character)\n\n## Problem\n- `--print` mode gives clean JSON but ALL output at once\n- Claude CLI's agentic loop can run many turns (tool calls)\n- A single CLI invocation may take 10+ minutes\n- User sees NOTHING until CLI completes\n\n## Solution\nUse full interactive mode (PTY) with output filtering:\n1. Spawn claude CLI in PTY (pseudo-terminal)\n2. Read output character-by-character\n3. Filter out CLI UI garbage (status bars, ANSI codes)\n4. Stream clean text to UI via SSE\n\n## Technical Approach\n- Use `github.com/creack/pty` for PTY\n- Parse ANSI escape sequences\n- Detect and filter CLI UI elements:\n  - Status bar (tokens, cost, model)\n  - Progress indicators\n  - IDE status line\n- Keep actual assistant output\n\n## Acceptance Criteria\n- [ ] PTY-based agent spawning\n- [ ] ANSI escape code filtering\n- [ ] CLI UI element detection and removal\n- [ ] Real-time streaming to SSE\n- [ ] Multi-turn conversation support\n- [ ] Works with Ava (init) and other agents\n\n## Files\n- internal/agent/interactive.go (rewrite)\n- internal/agent/filter.go (new)\n- internal/web/server.go (update SSE)","status":"closed","priority":1,"issue_type":"epic","owner":"ye@deligoz.me","created_at":"2026-01-27T12:19:32.439919+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T12:39:03.952771+03:00","closed_at":"2026-01-27T12:39:03.952771+03:00","close_reason":"Closed","labels":["m3-agent"]}
{"id":"ax-7or.1","title":"F01: PTY Agent Spawn","description":"## What\nSpawn claude CLI in PTY (pseudo-terminal) for real interactive mode\n\n## Acceptance Criteria\n- [ ] Use github.com/creack/pty package\n- [ ] Start claude CLI without --print flag\n- [ ] Read stdout character-by-character\n- [ ] Handle process lifecycle (start, running, exit)\n- [ ] Support graceful shutdown (SIGTERM)\n- [ ] 5 tests pass\n\n## Files\n- internal/agent/pty.go (new)\n- internal/agent/pty_test.go (new)","status":"closed","priority":1,"issue_type":"feature","owner":"ye@deligoz.me","created_at":"2026-01-27T12:20:09.398312+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T12:28:39.631937+03:00","closed_at":"2026-01-27T12:28:39.631937+03:00","close_reason":"Closed","labels":["m3-agent"],"dependencies":[{"issue_id":"ax-7or.1","depends_on_id":"ax-7or","type":"parent-child","created_at":"2026-01-27T12:20:09.399691+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-7or.2","title":"F02: ANSI Filter","description":"## What\nParse and remove ANSI escape sequences from terminal output\n\n## Acceptance Criteria\n- [ ] Detect CSI sequences (ESC [ ... )\n- [ ] Detect OSC sequences (ESC ] ... )\n- [ ] Detect SGR (color/style) codes\n- [ ] Detect cursor movement codes\n- [ ] Strip all ANSI, return clean text\n- [ ] 8 tests pass\n\n## Reference\n- CSI: \\x1b[...m (colors), \\x1b[...H (cursor)\n- OSC: \\x1b]...ST (window title, etc.)\n\n## Files\n- internal/agent/ansi.go (new)\n- internal/agent/ansi_test.go (new)","status":"closed","priority":1,"issue_type":"feature","owner":"ye@deligoz.me","created_at":"2026-01-27T12:20:18.598556+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T12:31:14.594999+03:00","closed_at":"2026-01-27T12:31:14.594999+03:00","close_reason":"Closed","labels":["m3-agent"],"dependencies":[{"issue_id":"ax-7or.2","depends_on_id":"ax-7or","type":"parent-child","created_at":"2026-01-27T12:20:18.599886+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-7or.2","depends_on_id":"ax-7or.1","type":"blocks","created_at":"2026-01-27T12:22:51.289755+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-7or.3","title":"F03: CLI UI Detector","description":"## What\nDetect Claude CLI UI elements that should be filtered out\n\n## UI Elements to Detect\n- Status bar: \"Tokens: X/Y | Cost: $X.XX | Model: claude-...\"\n- Progress indicators: spinner, percentage\n- IDE status line: \"Press Ctrl+C to cancel\"\n- Tool execution headers: \"Running Bash...\"\n- Permission prompts (should not appear with --dangerously-skip-permissions)\n\n## Acceptance Criteria\n- [ ] Detect status bar pattern\n- [ ] Detect progress indicator pattern\n- [ ] Detect IDE status line\n- [ ] Detect tool execution noise\n- [ ] Return classification: UI_ELEMENT | CONTENT\n- [ ] 6 tests pass\n\n## Files\n- internal/agent/uidetect.go (new)\n- internal/agent/uidetect_test.go (new)","status":"closed","priority":1,"issue_type":"feature","owner":"ye@deligoz.me","created_at":"2026-01-27T12:20:27.674418+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T12:32:53.606737+03:00","closed_at":"2026-01-27T12:32:53.606737+03:00","close_reason":"Closed","labels":["m3-agent"],"dependencies":[{"issue_id":"ax-7or.3","depends_on_id":"ax-7or","type":"parent-child","created_at":"2026-01-27T12:20:27.677047+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-7or.3","depends_on_id":"ax-7or.1","type":"blocks","created_at":"2026-01-27T12:22:51.456618+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-7or.4","title":"F04: Stream Cleaner","description":"## What\nCombine ANSI filter + UI detector to produce clean output stream\n\n## Acceptance Criteria\n- [ ] Take raw PTY output as input\n- [ ] Apply ANSI filter (F02)\n- [ ] Apply UI detector (F03)\n- [ ] Buffer partial lines until complete\n- [ ] Emit clean text chunks\n- [ ] Handle edge cases (partial ANSI, split UI elements)\n- [ ] 6 tests pass\n\n## Files\n- internal/agent/cleaner.go (new)\n- internal/agent/cleaner_test.go (new)","status":"closed","priority":1,"issue_type":"feature","owner":"ye@deligoz.me","created_at":"2026-01-27T12:20:40.27389+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T12:35:04.756516+03:00","closed_at":"2026-01-27T12:35:04.756516+03:00","close_reason":"Closed","labels":["m3-agent"],"dependencies":[{"issue_id":"ax-7or.4","depends_on_id":"ax-7or","type":"parent-child","created_at":"2026-01-27T12:20:40.276776+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-7or.4","depends_on_id":"ax-7or.2","type":"blocks","created_at":"2026-01-27T12:20:47.891694+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-7or.4","depends_on_id":"ax-7or.3","type":"blocks","created_at":"2026-01-27T12:20:47.980113+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-7or.5","title":"F05: SSE Integration","description":"## What\nConnect cleaned PTY output to SSE streaming\n\n## Acceptance Criteria\n- [ ] InteractiveAgent uses PTY spawn (F01)\n- [ ] Output goes through cleaner (F04)\n- [ ] Clean chunks sent to channel\n- [ ] SSE handler reads from channel\n- [ ] Real-time updates in browser\n- [ ] 4 tests pass\n\n## Files\n- internal/agent/interactive.go (rewrite)\n- internal/web/server.go (update)","status":"closed","priority":1,"issue_type":"feature","owner":"ye@deligoz.me","created_at":"2026-01-27T12:20:40.449664+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T12:36:44.96768+03:00","closed_at":"2026-01-27T12:36:44.96768+03:00","close_reason":"Closed","labels":["m3-agent"],"dependencies":[{"issue_id":"ax-7or.5","depends_on_id":"ax-7or","type":"parent-child","created_at":"2026-01-27T12:20:40.451498+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-7or.5","depends_on_id":"ax-7or.1","type":"blocks","created_at":"2026-01-27T12:20:48.057711+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-7or.5","depends_on_id":"ax-7or.4","type":"blocks","created_at":"2026-01-27T12:20:48.140683+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-7or.6","title":"F06: Multi-turn Support","description":"## What\nSupport multi-turn conversation via stdin (not --continue)\n\n## Acceptance Criteria\n- [ ] Write user messages to PTY stdin\n- [ ] Handle newline/enter correctly\n- [ ] Detect when agent is waiting for input\n- [ ] Support conversation flow: user -\u003e agent -\u003e user -\u003e agent\n- [ ] Graceful handling of agent completion\n- [ ] 5 tests pass\n\n## Files\n- internal/agent/interactive.go (update)\n- internal/agent/interactive_test.go (update)","status":"closed","priority":1,"issue_type":"feature","owner":"ye@deligoz.me","created_at":"2026-01-27T12:20:40.551924+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T12:39:03.890633+03:00","closed_at":"2026-01-27T12:39:03.890633+03:00","close_reason":"Closed","labels":["m3-agent"],"dependencies":[{"issue_id":"ax-7or.6","depends_on_id":"ax-7or","type":"parent-child","created_at":"2026-01-27T12:20:40.562861+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-7or.6","depends_on_id":"ax-7or.5","type":"blocks","created_at":"2026-01-27T12:20:48.241746+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-7vk","title":"BUG: Ava tanıtım yapmıyor (Returning User akışında)","description":"## Problem\nAva sadece ONBOARDING FLOW'da tanıtım yapıyor. Config.json varsa RETURNING USER FLOW'a gidiyor ve tanıtım atlanıyor.\n\n## Çözüm\nTüm akışlardan ÖNCE çalışan bir \"Introduction\" adımı ekle:\n- \"Hi! I'm Ava, your project analyst.\"\n- Her zaman çalışsın\n\n## Files\n- internal/agent/prompts/ava.md.tmpl","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T10:07:38.439778+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T10:08:57.27152+03:00","closed_at":"2026-01-27T10:08:57.27152+03:00","close_reason":"Closed","labels":["bug"]}
{"id":"ax-81w","title":"PLAN: Init Mode Web UI Architecture","description":"## What\nDesign the Init Mode flow where Ava runs in Web UI with streaming output.\n\n## Questions to Answer\n1. WebSocket vs SSE for streaming?\n2. How does Ava spawn change (--print → streaming)?\n3. Init Mode UI layout (chat interface)\n4. State transitions (Init → Planning → Implementation)\n5. How does user interact with Ava in browser?\n\n## Current Flow (Wrong)\naxiom → scaffold → Ava (blocking, silent) → web server\n\n## Target Flow\naxiom → scaffold → web server → browser shows Init UI → Ava streams to UI\n\n## Output\n- Architecture decision document\n- Subtask breakdown with dependencies","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T01:33:34.486922+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T01:35:00.289435+03:00","closed_at":"2026-01-27T01:35:00.289435+03:00","close_reason":"Closed","labels":["m6-ui"]}
{"id":"ax-88w","title":"PLAN: MVP-02 - Task List UI","description":"## Goal\nSee a task list in the UI with hardcoded data.\n\n## What We'll SEE\n┌─────────────────────────────────────────┐\n│  AXIOM                        [status]  │\n├─────────────────────────────────────────┤\n│  Tasks                                  │\n│  ┌─────────────────────────────────────┐│\n│  │ ● Task 1: Setup project     [done] ││\n│  │ ○ Task 2: Add feature       [todo] ││\n│  │ ○ Task 3: Fix bug          [active]││\n│  └─────────────────────────────────────┘│\n├─────────────────────────────────────────┤\n│  © 2025 AXIOM                           │\n└─────────────────────────────────────────┘\n\n## Minimum Infrastructure\n- Hardcoded task slice in Go\n- HTML template for task list\n- Basic styling with Tailwind\n\n## Success Criteria\n- Page shows list of tasks\n- Each task has: title, status indicator\n- Different visual states for status","status":"closed","priority":1,"issue_type":"epic","owner":"ye@deligoz.me","created_at":"2026-01-26T21:33:57.281144+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T21:35:17.645395+03:00","closed_at":"2026-01-26T21:35:17.645395+03:00","close_reason":"Closed","labels":["mvp"]}
{"id":"ax-88w.1","title":"F02: Task List Page","description":"## Parent Grey\nax-88w: PLAN: MVP-02 - Task List UI\n\n## Atomic Feature\nHomepage shows a list of tasks with title and status.\n\n## Success Criteria\n- [ ] Page shows multiple tasks\n- [ ] Each task displays title and status\n- [ ] Status has visual indicator (icon/color)\n- [ ] Responsive layout\n\n## Expected Greens\nTBD after discussion","status":"closed","priority":1,"issue_type":"feature","owner":"ye@deligoz.me","created_at":"2026-01-26T21:35:10.109662+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T21:42:36.471123+03:00","closed_at":"2026-01-26T21:42:36.471123+03:00","close_reason":"Closed","labels":["mvp"],"dependencies":[{"issue_id":"ax-88w.1","depends_on_id":"ax-88w","type":"parent-child","created_at":"2026-01-26T21:35:10.110503+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-88w.1.1","title":"F02.1: Task struct","description":"## Test Case\n`TestTask_Creation`\n\n## Expected Behavior\nTask struct with ID, Title, Status fields can be instantiated.\n\n## Acceptance\n- [ ] Test written and RED\n- [ ] Implementation GREEN\n- [ ] Committed","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T21:35:55.523139+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T21:37:36.792841+03:00","closed_at":"2026-01-26T21:37:36.792841+03:00","close_reason":"Closed","labels":["mvp"],"dependencies":[{"issue_id":"ax-88w.1.1","depends_on_id":"ax-88w.1","type":"parent-child","created_at":"2026-01-26T21:35:55.523992+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-88w.1.2","title":"F02.2: Hardcoded tasks","description":"## Test Case\n`TestGetTasks_ReturnsNonEmpty`\n\n## Expected Behavior\nGetTasks() returns a slice of sample tasks (at least 3).\n\n## Acceptance\n- [ ] Test written and RED\n- [ ] Implementation GREEN\n- [ ] Committed","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T21:36:03.804362+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T21:38:47.581647+03:00","closed_at":"2026-01-26T21:38:47.581647+03:00","close_reason":"Closed","labels":["mvp"],"dependencies":[{"issue_id":"ax-88w.1.2","depends_on_id":"ax-88w.1","type":"parent-child","created_at":"2026-01-26T21:36:03.805222+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-88w.1.3","title":"F02.3: Task list template","description":"## Test Case\nNo test - template file\n\n## Expected Behavior\nHTML template partial that renders a list of tasks with:\n- Task title\n- Status indicator (icon/color)\n\n## Acceptance\n- [ ] Template file exists\n- [ ] Uses Tailwind classes\n- [ ] Committed","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T21:36:12.17472+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T21:41:10.557111+03:00","closed_at":"2026-01-26T21:41:10.557111+03:00","close_reason":"Closed","labels":["mvp"],"dependencies":[{"issue_id":"ax-88w.1.3","depends_on_id":"ax-88w.1","type":"parent-child","created_at":"2026-01-26T21:36:12.175651+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-88w.1.4","title":"F02.4: Render tasks on homepage","description":"## Test Case\n`TestServer_GetRoot_ContainsTasks`\n\n## Expected Behavior\nGET / response contains task titles from hardcoded data.\n\n## Acceptance\n- [ ] Test written and RED\n- [ ] Implementation GREEN\n- [ ] Committed","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T21:36:20.809962+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T21:42:36.4162+03:00","closed_at":"2026-01-26T21:42:36.4162+03:00","close_reason":"Closed","labels":["mvp"],"dependencies":[{"issue_id":"ax-88w.1.4","depends_on_id":"ax-88w.1","type":"parent-child","created_at":"2026-01-26T21:36:20.810787+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-8kc","title":"DOC: Init Mode Prerequisites Check","description":"## Context\nBefore starting, review docs/02-modes.md (Init Mode section) and docs/01-configuration.md.\n\n## Problem\nInit Mode doesn't document what happens when prerequisites are missing:\n- No git repository\n- Claude CLI not installed\n- Insufficient disk space\n\n## Acceptance Criteria\n- [ ] Document git repo requirement and error message\n- [ ] Document Claude CLI check at startup\n- [ ] Document minimum disk space requirement\n- [ ] Add prerequisite check flowchart to 02-modes.md\n- [ ] Update 15-errors.md with prerequisite error codes\n\n## Files\n- docs/02-modes.md\n- docs/15-errors.md","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T15:58:47.950975+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T16:43:48.792721+03:00","closed_at":"2026-01-26T16:43:48.792721+03:00","close_reason":"Closed","labels":["m1-init"]}
{"id":"ax-8m0","title":"F: Signal Validation","description":"## What\nValidate signals based on type-specific rules.\n\n## Acceptance Criteria\n- [ ] `Validate(s Signal) error` validates a signal\n- [ ] COMPLETE, RESOLVED: No payload required\n- [ ] BLOCKED, PENDING, STUCK: Payload required\n- [ ] PROGRESS: Payload must be 0-100\n- [ ] DISCOVERY_*: Payload required\n- [ ] Returns typed errors (ErrMissingPayload, ErrInvalidPayload)\n- [ ] 8 tests pass\n\n## Files\n- internal/signal/validator.go\n- internal/signal/validator_test.go","status":"tombstone","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T00:29:35.737479+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T01:10:54.589779+03:00","labels":["m3-agent"],"dependencies":[{"issue_id":"ax-8m0","depends_on_id":"ax-51k","type":"blocks","created_at":"2026-01-27T00:29:42.567328+03:00","created_by":"Yunus Emre Deligöz"}],"deleted_at":"2026-01-27T01:10:54.589779+03:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"ax-9c5","title":"DOC: Hook Execution Context","description":"## Missing Documentation\n12-hooks.md documents env vars but doesn't specify:\n\n1. **Execution Directory** - What directory do hooks run in?\n   - The workspace directory?\n   - The main project directory?\n   - The .axiom/ directory?\n\n2. **Hook Output Handling** - What happens if hook:\n   - Writes to stdout/stderr?\n   - Modifies files?\n   - Creates processes?\n\n3. **Environment Inheritance** - Does hook inherit:\n   - Agent environment?\n   - System PATH?\n   - Custom AXIOM vars only?\n\n## Location\n- docs/12-hooks.md - add \"Execution Context\" section\n\n## Expected Content\n```markdown\n## Execution Context\n\n### Working Directory\nHooks run in the **project root directory** (same directory as `.axiom/`).\n\nFor workspace-specific operations, use `$AXIOM_WORKSPACE` env var.\n\n### Output Handling\n- stdout/stderr → logged to `.axiom/logs/hooks.jsonl`\n- File modifications → not recommended (use workspace)\n- Child processes → killed if hook times out\n```","status":"closed","priority":2,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T16:55:28.77819+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T17:12:05.247714+03:00","closed_at":"2026-01-26T17:12:05.247714+03:00","close_reason":"Closed","labels":["m2-planning"]}
{"id":"ax-9ik","title":"F: Main Spawn Ava After Scaffold","description":"## What\nAfter scaffold, spawn Ava agent and wait for AVA_COMPLETE.\n\n## Acceptance Criteria\n- [ ] After scaffold, spawn Ava with `.axiom/agents/ava/prompt.md`\n- [ ] Wait for agent completion\n- [ ] Parse output for AVA_COMPLETE signal\n- [ ] Print \"Project initialized\" on success\n- [ ] 2 tests pass\n\n## Files\n- cmd/axiom/main.go\n- cmd/axiom/main_test.go (integration test)\n\n## Flow\n```go\nif !scaffold.Exists(\".\") {\n    scaffold.Scaffold(\".\")\n    // ...\n    \n    // Spawn Ava\n    ava, _ := agent.Spawn(\".axiom/agents/ava/prompt.md\")\n    output, _ := ava.Wait()\n    \n    signals := signal.Parse(output)\n    // Check for AVA_COMPLETE\n}\n```\n\n## Dependencies\n- ax-urm (Signal Parser)\n- ax-ab3 (Agent Spawner)","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T00:42:53.537384+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T01:09:11.300587+03:00","closed_at":"2026-01-27T01:09:11.300587+03:00","close_reason":"Closed","labels":["m3-agent"],"dependencies":[{"issue_id":"ax-9ik","depends_on_id":"ax-urm","type":"blocks","created_at":"2026-01-27T00:42:59.423694+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-9ik","depends_on_id":"ax-ab3","type":"blocks","created_at":"2026-01-27T00:42:59.536512+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-a04","title":"Handle streaming reconnect gracefully","description":"## Problem\nIf page refreshes while agent is streaming:\n- Does current stream get interrupted?\n- Where does reconnect resume from?\n\n## Solution Options\n1. **Buffer**: Server buffers last N lines, sends on reconnect\n2. **Ignore**: Only send new output (history in conversation)\n3. **Restart**: Restart agent on page refresh\n\n## Acceptance Criteria\n- [ ] Refresh during streaming handled gracefully\n- [ ] User doesn't lose context\n\n## Files\n- internal/web/server.go\n- internal/web/sse.go","status":"deferred","priority":2,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T10:41:07.224506+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T10:42:22.558774+03:00","labels":["m6-ui"]}
{"id":"ax-a7s","title":"PLAN: Agent Spawner - Streaming vs Blocking","description":"## Question\nOutput nasıl handle edilecek?\n\n## Decision: Blocking + Text (Simple)\n\n### Approach\n```go\noutput, err := cmd.Output()  // Blocking, waits for completion\n```\n\n### Rationale\n- Ava short-running - blocking OK\n- Just need AVA_COMPLETE signal at end\n- Text format is simplest to parse\n- No streaming complexity\n\n### Implementation\n```go\nfunc (s *Spawner) Spawn(promptPath string) (*Process, error) {\n    cmd := exec.Command(binPath,\n        \"--print\",\n        \"--dangerously-skip-permissions\",\n        \"--system-prompt\", promptContent,\n    )\n    \n    output, err := cmd.Output()\n    if err != nil {\n        return nil, fmt.Errorf(\"agent failed: %w\", err)\n    }\n    \n    return \u0026Process{Output: string(output)}, nil\n}\n```\n\n### Signal Extraction\n```go\nsignals := signal.Parse(process.Output)\nfor _, s := range signals {\n    if s.Type == \"AVA_COMPLETE\" {\n        // Success!\n    }\n}\n```\n\n### Future: Streaming for Echo\nWhen implementing Echo (progress updates needed):\n```bash\nclaude --print \\\n  --output-format stream-json \\\n  --include-partial-messages\n```\n\nBut NOT now - YAGNI.","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T00:46:18.565632+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T01:00:39.508869+03:00","closed_at":"2026-01-27T01:00:39.508869+03:00","close_reason":"Closed","labels":["m3-agent"]}
{"id":"ax-ab3","title":"F: Agent Spawner","description":"## What\nSpawn Claude CLI agent with a prompt file.\n\n## Design Decisions (from PLANs)\n- **Claude detection**: `exec.LookPath(\"claude\")` at spawn time\n- **Prompt**: `--system-prompt` flag with file content\n- **Output**: Blocking `cmd.Output()`, text format\n- **Timeout**: None (interactive agent)\n- **Errors**: Simple wrapping with context\n\n## Acceptance Criteria\n- [ ] `Spawn(promptPath string) (string, error)` spawns claude and returns output\n- [ ] Uses: `claude --print --dangerously-skip-permissions --system-prompt`\n- [ ] Returns helpful error if claude not found\n- [ ] Returns helpful error if prompt file not found\n- [ ] Returns agent output as string\n- [ ] 4 tests pass\n\n## Files\n- internal/agent/spawner.go\n- internal/agent/spawner_test.go\n\n## Implementation\n```go\nfunc Spawn(promptPath string) (string, error) {\n    // 1. Read prompt\n    content, err := os.ReadFile(promptPath)\n    if err != nil {\n        return \"\", fmt.Errorf(\"reading prompt %s: %w\", promptPath, err)\n    }\n    \n    // 2. Find claude\n    binPath, err := exec.LookPath(\"claude\")\n    if err != nil {\n        return \"\", fmt.Errorf(\"claude CLI not found: %w\\n\\nInstall: npm install -g @anthropic-ai/claude-code\", err)\n    }\n    \n    // 3. Run\n    cmd := exec.Command(binPath,\n        \"--print\",\n        \"--dangerously-skip-permissions\",\n        \"--system-prompt\", string(content),\n    )\n    \n    output, err := cmd.Output()\n    if err != nil {\n        if exitErr, ok := err.(*exec.ExitError); ok {\n            return \"\", fmt.Errorf(\"agent crashed (exit %d): %s\", exitErr.ExitCode(), exitErr.Stderr)\n        }\n        return \"\", fmt.Errorf(\"running agent: %w\", err)\n    }\n    \n    return string(output), nil\n}\n```","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T00:42:42.314303+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T01:05:41.252978+03:00","closed_at":"2026-01-27T01:05:41.252978+03:00","close_reason":"Closed","labels":["m3-agent"],"dependencies":[{"issue_id":"ax-ab3","depends_on_id":"ax-3iq","type":"blocks","created_at":"2026-01-27T00:46:56.476454+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-ab3","depends_on_id":"ax-a7s","type":"blocks","created_at":"2026-01-27T00:46:56.593666+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-ab3","depends_on_id":"ax-qj1","type":"blocks","created_at":"2026-01-27T00:46:56.691097+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-ab3","depends_on_id":"ax-eqc","type":"blocks","created_at":"2026-01-27T00:46:56.786168+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-ab3","depends_on_id":"ax-4g4","type":"blocks","created_at":"2026-01-27T00:46:56.880398+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-ab3","depends_on_id":"ax-1av","type":"blocks","created_at":"2026-01-27T00:47:17.482082+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-akb","title":"BUG: Agent output gerçek zamanlı stream olmuyor","description":"## Problem\n`claude --print` modu tüm yanıtı oluşturduktan sonra stdout'a yazıyor.\nUI'da output beklendikten sonra bir anda geliyor.\n\n## Araştır\n1. Claude CLI'da streaming modu var mı?\n2. `--print` yerine farklı bir flag?\n3. Alternatif: Claude API kullan (streaming destekler)\n\n## Olası Çözümler\n- Claude CLI'da `--stream` veya benzeri flag\n- MCP veya API üzerinden streaming\n- SDK kullanımı\n\n## Files\n- internal/agent/streamer.go","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T10:07:47.66533+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T10:12:16.085555+03:00","closed_at":"2026-01-27T10:12:16.085555+03:00","close_reason":"Closed","labels":["bug"]}
{"id":"ax-auy","title":"DOC: Slot manager queuing behavior","description":"## What\nDocument what happens when ready Tasks \u003e available slots in 05-agents.md or 02-modes.md.\n\n## Current State\n- maxParallel mentioned\n- Queuing behavior not explained\n\n## Add\n```markdown\n### Slot Management\nWhen ready Tasks exceed maxParallel slots:\n\n**Semi-Auto Mode:**\n- User sees all ready Tasks in panel\n- User manually assigns to available slots\n- Excess Tasks wait in ready state\n\n**Autopilot Mode:**\n- System maintains internal queue\n- Queue ordered by: priority \u003e age (FIFO)\n- As agents complete, next Task auto-assigned\n- No explicit queue UI (happens automatically)\n\n**Slot Availability Events:**\n| Event | Action |\n|-------|--------|\n| Agent completes Task | Slot freed, assign next |\n| Agent stops (manual) | Slot freed, assign next |\n| Agent fails | Slot freed, next or pause based on config |\n```\n\n## Files\n- docs/05-agents.md (Agent Lifecycle section)\n- or docs/02-modes.md (Operating Modes section)","status":"closed","priority":3,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T18:13:05.484786+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T18:20:45.407444+03:00","closed_at":"2026-01-26T18:20:45.407444+03:00","close_reason":"Closed","labels":["docs"]}
{"id":"ax-b2u","title":"DOC: Checkpoint restore algorithm","description":"## What\nAdd step-by-step checkpoint restoration algorithm in 09-intervention.md.\n\n## Current State\n- Checkpoint creation documented\n- Restoration process not detailed\n\n## Add\n```markdown\n### Checkpoint Restoration Algorithm\n1. Stop all running agents (graceful)\n2. Load checkpoint file from .axiom/checkpoints/\n3. Validate checkpoint state structure\n4. Reset CaseStore to checkpoint state\n5. Reset active Tasks to pending status\n6. Clean orphaned workspaces\n7. Update State machine snapshot\n8. Resume normal operation\n```\n\n## Files\n- docs/09-intervention.md","status":"closed","priority":3,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T18:12:59.544403+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T18:16:43.262545+03:00","closed_at":"2026-01-26T18:16:43.262545+03:00","close_reason":"Closed","labels":["docs"]}
{"id":"ax-bc6","title":"DOC: Disk Space Error Handling","description":"## Context\nBefore starting, review docs/05-agents.md (Monitor Max) and docs/09-intervention.md.\n\n## Problem\nMax monitors disk usage but no documented action when disk is full.\nWhat happens when git checkout fails due to no space?\n\n## Acceptance Criteria\n- [ ] Document disk space thresholds (warning, critical)\n- [ ] Document actions: pause agents, alert user, cleanup old workspaces\n- [ ] Add disk space config: `system.diskWarningThreshold`\n- [ ] Update Max's responsibilities in 05-agents.md\n- [ ] Add error codes to 15-errors.md\n\n## Files\n- docs/05-agents.md\n- docs/01-configuration.md\n- docs/15-errors.md\n- docs/09-intervention.md","status":"closed","priority":2,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T16:00:59.210959+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T17:10:43.302757+03:00","closed_at":"2026-01-26T17:10:43.302757+03:00","close_reason":"Closed","labels":["m3-execution"]}
{"id":"ax-bjh","title":"DOC: Theme System Schema","description":"## Context\n10-interface.md mentions custom themes in .axiom/themes/ but no format/schema documented.\n\n## Acceptance Criteria\n- [ ] Add theme JSON schema\n- [ ] Document required fields (colors, fonts)\n- [ ] Show example custom theme\n- [ ] Document how to apply via config\n\n## Files\n- docs/10-interface.md","status":"closed","priority":3,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T17:48:56.073406+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T18:05:26.328445+03:00","closed_at":"2026-01-26T18:05:26.328445+03:00","close_reason":"Closed","labels":["docs"]}
{"id":"ax-bqj","title":"DOC: Corrupted Config Recovery","description":"## Context\nBefore starting, review docs/01-configuration.md and docs/09-intervention.md (Crash Recovery).\n\n## Problem\nNo documentation on what happens when .axiom/config.json is corrupted or invalid JSON.\n\n## Acceptance Criteria\n- [ ] Document config validation at startup\n- [ ] Document recovery options (reset to defaults, backup, manual fix)\n- [ ] Add error codes to 15-errors.md\n- [ ] Consider: config.json.backup on every successful parse?\n\n## Files\n- docs/01-configuration.md\n- docs/15-errors.md\n- docs/09-intervention.md","status":"closed","priority":2,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T15:59:17.092061+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T17:00:26.562857+03:00","closed_at":"2026-01-26T17:00:26.562857+03:00","close_reason":"Closed","labels":["m1-init"]}
{"id":"ax-bv9","title":"DOC: Circular Dependency Detection","description":"## Context\nBefore starting, review docs/04-cases.md (Dependencies) and docs/07-execution.md (Task Selection).\n\n## Problem\nNo documentation on detecting or handling circular dependencies between Tasks.\nExample: Task A blocked by B, Task B blocked by A.\n\n## Acceptance Criteria\n- [ ] Document circular dependency detection algorithm\n- [ ] Define error behavior (block both? error? break cycle?)\n- [ ] Add to CaseStore validation\n- [ ] Add warning/error to 15-errors.md\n- [ ] Consider: visual indicator in Web UI\n\n## Files\n- docs/04-cases.md\n- docs/07-execution.md\n- docs/15-errors.md","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T16:00:30.265125+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T16:49:29.902894+03:00","closed_at":"2026-01-26T16:49:29.902894+03:00","close_reason":"Closed","labels":["m3-execution"],"dependencies":[{"issue_id":"ax-bv9","depends_on_id":"ax-8kc","type":"blocks","created_at":"2026-01-26T16:01:53.640393+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-bzs","title":"DOC: Fix index.md persona description error","description":"## Problem\nindex.md features section states:\n\u003e \"Dex selects tasks\"\n\nThis is **incorrect**. Dex is Director (orchestration), not task selection.\nTask selection is automatic in autopilot or manual by user in semi-auto mode.\n\n## Location\n- docs/index.md line 19\n\n## Fix\nChange feature description for Dex from \"Dex selects tasks\" to accurate description like:\n- \"Dex orchestrates agents\" or\n- \"Dex coordinates workflow\"\n\n## Verification\n- Feature description matches 05-agents.md persona definitions","status":"closed","priority":2,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T16:55:26.592178+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T16:56:56.454131+03:00","closed_at":"2026-01-26T16:56:56.454131+03:00","close_reason":"Closed","labels":["m1-init"]}
{"id":"ax-c4g","title":"PLAN: Ava Greenfield/Brownfield Detection","description":"## What\nDefine how Ava detects greenfield vs brownfield projects at runtime.\n\n## Decision\n- Greenfield/brownfield is NOT stored in config.json\n- Ava detects this at first run (or re-analyze)\n- It's a runtime decision, not a persistent setting\n\n## Detection Logic\n\n```go\nfunc DetectProjectMode(dir string) ProjectMode {\n    codeFiles := countCodeFiles(dir) // .go, .ts, .py, .rs\n    hasConfig := hasConfigFiles(dir) // go.mod, package.json, etc.\n    \n    if codeFiles == 0 \u0026\u0026 !hasConfig {\n        return Greenfield\n    }\n    return Brownfield\n}\n```\n\n## File Patterns to Check\n\n### Code Files\n```go\nvar codeExtensions = []string{\".go\", \".ts\", \".tsx\", \".js\", \".jsx\", \".py\", \".rs\"}\n```\n\n### Config Files (indicate brownfield)\n| File | Language |\n|------|----------|\n| go.mod | Go |\n| package.json | Node.js/TypeScript |\n| Cargo.toml | Rust |\n| pyproject.toml | Python |\n| requirements.txt | Python |\n\n## Edge Cases\n\n| Scenario | Detection | Rationale |\n|----------|-----------|-----------|\n| Only README.md | Greenfield | No code files |\n| Template project | Brownfield | Has config files |\n| .axiom/ exists, empty config | Brownfield | Previous setup attempt |\n| node_modules but no package.json | Error | Inconsistent state |\n\n## No Config Storage\n\nThis is intentional:\n- Mode only matters during Ava's analysis\n- After config is created, mode is irrelevant\n- Re-analyze will re-detect anyway\n\n## Deliverables\n- [ ] Define DetectProjectMode function signature\n- [ ] Define file extension lists\n- [ ] Define config file detection\n- [ ] Define edge case handling\n- [ ] Create internal/detection/project_mode.go\n\nNote: Prompt text for greenfield/brownfield behavior is in ax-isd (Ava Prompt Template).\n\n## References\n- docs/01-configuration.md (config schema - no project.mode)\n- ax-0z9 (Ava role definition)\n- ax-isd (Ava prompt - defines what Ava says/does per mode)\n\n## Related\n- ax-0z9 (Ava role)\n- ax-isd (Ava prompt - behavior text)","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T22:48:23.698038+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T23:58:27.206989+03:00","closed_at":"2026-01-26T23:58:27.206989+03:00","close_reason":"Detection logic implemented with 9 tests. DetectProjectMode and DetectProjectModeDetailed functions.","labels":["planning"],"dependencies":[{"issue_id":"ax-c4g","depends_on_id":"ax-0z9","type":"blocks","created_at":"2026-01-26T23:00:32.822218+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-c4g","depends_on_id":"ax-isd","type":"blocks","created_at":"2026-01-26T23:00:32.973889+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-cew","title":"DOC: Hook Timeout Configuration","description":"## Context\n12-hooks.md shows timeout config but doesn't fully explain:\n- Default timeout value\n- Global vs per-hook timeout config\n- What happens to child processes on timeout\n\n## Acceptance Criteria\n- [ ] Document default timeout (30s)\n- [ ] Show global timeout override config\n- [ ] Show per-hook timeout override\n- [ ] Document timeout behavior (SIGTERM, orphan processes)\n\n## Files\n- docs/12-hooks.md","status":"closed","priority":3,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T17:48:31.659036+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T18:05:26.32148+03:00","closed_at":"2026-01-26T18:05:26.32148+03:00","close_reason":"Closed","labels":["docs"]}
{"id":"ax-cju","title":"Init Mode UI (Ava chat interface)","description":"## What\nFull-page chat interface for Init Mode where Ava's output streams.\n\n## Acceptance Criteria\n- [ ] `/init` page shows Ava chat interface\n- [ ] HTMX connects to SSE for streaming output\n- [ ] Shows \"Analyzing project...\" initially\n- [ ] Displays Ava's output line-by-line\n- [ ] Shows Accept/Customize buttons on completion\n- [ ] Accept transitions to main UI\n- [ ] 3 tests pass\n\n## Files\n- internal/web/init_handler.go\n- internal/web/init_handler_test.go\n- web/templates/init.html\n- web/static/css/init.css (if needed)\n\n## Technical Notes\n- Use hx-sse for SSE connection\n- Full page layout (not two-panel)\n- Transition via hx-swap-oob or redirect","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T01:34:45.01826+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T01:42:50.508019+03:00","closed_at":"2026-01-27T01:42:50.508019+03:00","close_reason":"Closed","labels":["m6-ui"],"dependencies":[{"issue_id":"ax-cju","depends_on_id":"ax-s1o","type":"blocks","created_at":"2026-01-27T01:34:45.019535+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-cju","depends_on_id":"ax-q03","type":"blocks","created_at":"2026-01-27T01:34:45.020702+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-d0r","title":"PLAN: Update Docs with Planning Decisions","description":"## What\nUpdate all documentation to reflect planning decisions made in this session.\n\n## Decisions to Document\n\n### Agent Structure\n- **Ava**: Project-level analyst, creates config.json\n- **Axel**: Goal-specific planner, 5-phase dialogue\n- **Echo**: Task implementer\n- **Cleo**: Discovery curator\n\n### Config Structure\n- Single file: .axiom/config.json\n- No analysis.json\n- No project.mode field (runtime detection only)\n- Version field stays (for migrations)\n\n### Ava's Trigger\n- First run: Automatic (no .axiom/ folder)\n- Later: Command palette in Web UI\n\n### Phase 2 Clarification\n- Ava: Project-level analysis (tech stack, verification)\n- Axel Phase 2: Goal-specific analysis (relevant files, patterns)\n\n## Files to Update\n\n### docs/05-agents.md\n- [ ] Add Ava section with full role description\n- [ ] Clarify Axel's Phase 2 vs Ava's analysis\n- [ ] Update agent list\n\n### docs/03-planning.md\n- [ ] Update Init Mode section (line 715-730)\n- [ ] Clarify Ava → Axel handoff\n- [ ] Document first-run behavior\n\n### docs/01-configuration.md\n- [ ] Remove any project.mode references (if any)\n- [ ] Clarify who creates config (Ava)\n- [ ] Add verification detection notes\n\n### docs/10-interface.md\n- [ ] Add command palette section\n- [ ] Document \"Talk to Ava\" action\n- [ ] Document first-run UI behavior\n\n### CLAUDE.md\n- [ ] Update agent list in Key Concepts\n- [ ] Verify accuracy\n\n## Deliverables\n- [ ] Review each doc file for accuracy\n- [ ] Update with new decisions\n- [ ] Ensure consistency across docs\n- [ ] Remove outdated information\n\n## References\n- All discussion in this planning session\n- ax-0z9 (Ava role)\n- ax-jel (Command palette)\n\n## Related\n- All planning tasks","status":"closed","priority":2,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T23:21:09.518226+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T01:13:27.804434+03:00","closed_at":"2026-01-27T01:13:27.804434+03:00","close_reason":"Closed","labels":["docs"],"dependencies":[{"issue_id":"ax-d0r","depends_on_id":"ax-0z9","type":"blocks","created_at":"2026-01-26T23:22:20.902363+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-d0r","depends_on_id":"ax-isd","type":"blocks","created_at":"2026-01-26T23:22:21.029066+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-d0r","depends_on_id":"ax-ns4","type":"blocks","created_at":"2026-01-26T23:22:21.113298+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-d0r","depends_on_id":"ax-4up","type":"blocks","created_at":"2026-01-26T23:22:21.195414+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-d0r","depends_on_id":"ax-jel","type":"blocks","created_at":"2026-01-26T23:22:21.273295+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-d0r","depends_on_id":"ax-mg3","type":"blocks","created_at":"2026-01-27T00:16:15.976208+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-dv1","title":"DOC: Discovery Case ID Format","description":"## Context\nScout review found discovery case IDs shown (e.g., disc-030) but format not specified.\n\n## Acceptance Criteria\n- [ ] Document ID format in 08-discovery.md\n- [ ] Explain counter mechanism\n\n## Files\n- docs/08-discovery.md","status":"closed","priority":3,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T17:08:34.499071+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T17:29:22.655158+03:00","closed_at":"2026-01-26T17:29:22.655158+03:00","close_reason":"Closed","labels":["m8-memory"]}
{"id":"ax-dvh","title":"F01: CaseStore","description":"## What\nJSONL-based case storage with event emission\n\n## Reference\n- docs/04-cases.md (CaseStore API, Mutation Guarantees)\n\n## Acceptance Criteria\n### CRUD Operations\n- [ ] Create(input) - creates case, emits event\n- [ ] Get(id) - retrieves case by ID\n- [ ] Update(id, changes) - updates case, emits event\n- [ ] Delete(id, reason) - soft-delete\n\n### Lifecycle Operations\n- [ ] Transition(id, newType, reason) - changes type\n- [ ] Split(id, children) - creates children\n- [ ] Claim(id, agentId) - claims for execution\n- [ ] Release(id) - releases claim\n- [ ] Complete(id, result) - marks done\n- [ ] Block(id, reason) - marks blocked\n\n### Query Operations\n- [ ] ByType(type) - filter by type\n- [ ] Ready(type?) - ready cases\n- [ ] Blocked() - blocked cases\n- [ ] Children(id) - direct children\n- [ ] Ancestors(id) - ancestor chain\n\n### Persistence\n- [ ] JSONL file format (.axiom/cases.jsonl)\n- [ ] Atomic writes\n- [ ] Load on startup\n\n### Events\n- [ ] Event emitter for subscribers\n- [ ] Events: created, updated, transitioned, split, etc.\n\n- [ ] 25 tests pass\n\n## Files\n- internal/case/store.go\n- internal/case/store_test.go\n- internal/case/events.go\n\n## Dependencies\n- ax-kjq (F03: Core Types)","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T18:53:17.98518+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T19:16:27.598134+03:00","closed_at":"2026-01-26T19:16:27.598134+03:00","close_reason":"Closed","labels":["m1-core"],"dependencies":[{"issue_id":"ax-dvh","depends_on_id":"ax-kjq","type":"blocks","created_at":"2026-01-26T18:53:17.986608+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-ek6","title":"DOC: Non-Interactive Mode (--non-interactive flag)","description":"## Context\nScout review found --non-interactive flag referenced but not documented.\n\n## Problem\n09-intervention.md references \"With --non-interactive or in CI\" but no CLI docs exist.\n\n## Acceptance Criteria\n- [ ] Add --non-interactive to CLI reference (13-reference.md)\n- [ ] Document behavior in CI environments\n- [ ] Add to config precedence documentation\n\n## Files\n- docs/13-reference.md\n- docs/01-configuration.md","status":"closed","priority":2,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T17:08:31.207731+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T17:21:35.440627+03:00","closed_at":"2026-01-26T17:21:35.440627+03:00","close_reason":"Closed","labels":["m1-init"]}
{"id":"ax-eqc","title":"PLAN: Agent Spawner - Error Handling","description":"## Question\nHangi hatalar olabilir ve nasıl handle edilecek?\n\n## Decision: Simple Error Wrapping\n\n### Error Handling Strategy\nKeep it simple - wrap errors with context, no retry logic.\n\n### Implementation\n```go\nfunc (s *Spawner) Spawn(promptPath string) (*Process, error) {\n    // 1. Read prompt file\n    promptContent, err := os.ReadFile(promptPath)\n    if err != nil {\n        return nil, fmt.Errorf(\"reading prompt %s: %w\", promptPath, err)\n    }\n    \n    // 2. Find claude\n    binPath, err := exec.LookPath(\"claude\")\n    if err != nil {\n        return nil, fmt.Errorf(\"claude CLI not found: %w\\n\\nInstall: npm install -g @anthropic-ai/claude-code\", err)\n    }\n    \n    // 3. Run command\n    cmd := exec.Command(binPath, \"--print\", \"--dangerously-skip-permissions\", \"--system-prompt\", string(promptContent))\n    \n    output, err := cmd.Output()\n    if err != nil {\n        // Include stderr in error for debugging\n        if exitErr, ok := err.(*exec.ExitError); ok {\n            return nil, fmt.Errorf(\"agent crashed (exit %d): %s\", exitErr.ExitCode(), string(exitErr.Stderr))\n        }\n        return nil, fmt.Errorf(\"running agent: %w\", err)\n    }\n    \n    return \u0026Process{Output: string(output)}, nil\n}\n```\n\n### What We're NOT Doing\n- ❌ Custom error types (just wrapped errors)\n- ❌ Retry logic (user can re-run)\n- ❌ No-signal detection (let caller handle)\n\n### Error Messages (User-Facing)\n| Error | Message |\n|-------|---------|\n| Prompt not found | \"reading prompt .axiom/agents/ava/prompt.md: no such file\" |\n| Claude not found | \"claude CLI not found: ... Install: npm install -g @anthropic-ai/claude-code\" |\n| Agent crash | \"agent crashed (exit 1): \u003cstderr content\u003e\" |","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T00:46:39.001425+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T01:01:34.42041+03:00","closed_at":"2026-01-27T01:01:34.42041+03:00","close_reason":"Closed","labels":["m3-agent"]}
{"id":"ax-f5i","title":"PLAN: Align with docs - Task to Case migration","description":"## Goal\nAlign implementation with docs/04-cases.md\n\n## Scope\n### Doing\n- Rename tasks.jsonl → cases.jsonl\n- Rename TaskStore → CaseStore\n- Add Type field to struct\n- Keep minimal fields for now\n\n### NOT Doing (yet)\n- Full Case metadata\n- History tracking\n- Events system\n- Multiple case types (only \"task\" for now)\n\n## Files\n- internal/task/ → internal/case/\n- .axiom/tasks.jsonl → .axiom/cases.jsonl","status":"closed","priority":1,"issue_type":"epic","owner":"ye@deligoz.me","created_at":"2026-01-26T22:02:05.859733+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T22:02:32.97907+03:00","closed_at":"2026-01-26T22:02:32.97907+03:00","close_reason":"Closed","labels":["mvp"]}
{"id":"ax-f5i.1","title":"F04: Rename Task to Case","description":"## What\nRename internal/task → internal/case and align with docs\n\n## Acceptance Criteria\n- Package renamed to internal/case\n- CaseStore replaces TaskStore\n- Case struct with Type field\n- cases.jsonl file format\n- All tests pass","status":"closed","priority":1,"issue_type":"feature","owner":"ye@deligoz.me","created_at":"2026-01-26T22:02:14.712175+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T22:07:34.509377+03:00","closed_at":"2026-01-26T22:07:34.509377+03:00","close_reason":"Closed","labels":["mvp"],"dependencies":[{"issue_id":"ax-f5i.1","depends_on_id":"ax-f5i","type":"parent-child","created_at":"2026-01-26T22:02:14.71299+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-f5i.1.1","title":"F04.1: Create Case struct with Type field","description":"## Test Case\nTestCase_Creation\n\n## Expected Behavior\nCase struct has ID, Type, Status, Content, CreatedAt fields\n\n## Acceptance\n- [ ] Test written and RED\n- [ ] Implementation GREEN\n- [ ] Committed","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T22:02:26.617901+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T22:03:57.692994+03:00","closed_at":"2026-01-26T22:03:57.692994+03:00","close_reason":"Closed","labels":["mvp"],"dependencies":[{"issue_id":"ax-f5i.1.1","depends_on_id":"ax-f5i.1","type":"parent-child","created_at":"2026-01-26T22:02:26.618783+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-f5i.1.2","title":"F04.2: Create CaseStore with Load","description":"## Test Case\nTestCaseStore_Load_ReturnsCasesFromFile\n\n## Expected Behavior\nCaseStore.Load() reads cases from JSONL file\n\n## Acceptance\n- [ ] Test written and RED\n- [ ] Implementation GREEN\n- [ ] Committed","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T22:02:26.701712+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T22:04:49.924855+03:00","closed_at":"2026-01-26T22:04:49.924855+03:00","close_reason":"Closed","labels":["mvp"],"dependencies":[{"issue_id":"ax-f5i.1.2","depends_on_id":"ax-f5i.1","type":"parent-child","created_at":"2026-01-26T22:02:26.702676+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-f5i.1.3","title":"F04.3: Wire CaseStore to Server","description":"## Test Case\nTestServer_UsesCaseStore\n\n## Expected Behavior\nServer uses CaseStore instead of TaskStore\n\n## Acceptance\n- [ ] Test written and RED\n- [ ] Implementation GREEN\n- [ ] Committed","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T22:02:26.787724+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T22:06:53.38143+03:00","closed_at":"2026-01-26T22:06:53.38143+03:00","close_reason":"Closed","labels":["mvp"],"dependencies":[{"issue_id":"ax-f5i.1.3","depends_on_id":"ax-f5i.1","type":"parent-child","created_at":"2026-01-26T22:02:26.788468+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-f5i.1.4","title":"F04.4: Migrate data file","description":"## No Test\n- Rename .axiom/tasks.jsonl → .axiom/cases.jsonl\n- Update data format with type field\n- Remove old task package\n\n## Acceptance\n- [ ] File renamed\n- [ ] Data migrated\n- [ ] Old package removed\n- [ ] Committed","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T22:02:26.871698+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T22:07:34.453379+03:00","closed_at":"2026-01-26T22:07:34.453379+03:00","close_reason":"Closed","labels":["mvp"],"dependencies":[{"issue_id":"ax-f5i.1.4","depends_on_id":"ax-f5i.1","type":"parent-child","created_at":"2026-01-26T22:02:26.87249+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-g08","title":"CHORE: Go Project Setup","description":"## What\nInitialize Go project structure for AXIOM\n\n## Acceptance Criteria\n- [ ] `go mod init github.com/deligoez/axiom`\n- [ ] Project structure: cmd/axiom/, internal/, docs/\n- [ ] golangci-lint config (.golangci.yml)\n- [ ] Makefile with: build, test, lint targets\n- [ ] .gitignore for Go artifacts\n- [ ] Basic main.go that compiles\n\n## Files\n- go.mod\n- go.sum\n- .golangci.yml\n- Makefile\n- cmd/axiom/main.go\n- .gitignore (update)\n\n## Test Strategy\n- `go build ./...` succeeds\n- `golangci-lint run` succeeds\n- `make test` works (even if no tests yet)","status":"closed","priority":0,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T18:52:57.599112+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T19:16:19.943401+03:00","closed_at":"2026-01-26T19:16:19.943401+03:00","close_reason":"Closed","labels":["m1-core"]}
{"id":"ax-gme","title":"F02: Config System","description":"## What\nJSON-based configuration with validation and defaults\n\n## Reference\n- docs/01-configuration.md (Schema, Validation, Recovery)\n\n## Acceptance Criteria\n### Core\n- [ ] Config struct with all sections\n- [ ] Load(path) - loads from JSON file\n- [ ] Save(path) - saves to JSON file\n- [ ] Validate() - validates all fields\n- [ ] Defaults() - returns default config\n\n### Sections\n- [ ] AgentsConfig (maxParallel, timeoutMinutes, defaultModel)\n- [ ] CompletionConfig (signal, maxIterations, stuckThreshold)\n- [ ] PlanningConfig (incrementalEnabled, readyThreshold, etc.)\n- [ ] MergeConfig (autoMerge, conflictRetries, cleanupOnSuccess)\n- [ ] CheckpointsConfig (periodic, maxCount, maxAgeDays)\n\n### Validation\n- [ ] Range validation (maxParallel 1-10, etc.)\n- [ ] Enum validation (mode: semi-auto|autopilot)\n- [ ] Missing field defaults\n- [ ] Invalid value warnings\n\n### Recovery\n- [ ] Backup on load (.axiom/config.json.backup)\n- [ ] Restore from backup if corrupt\n- [ ] Default if both missing\n\n- [ ] 15 tests pass\n\n## Files\n- internal/config/config.go\n- internal/config/config_test.go\n- internal/config/defaults.go\n- internal/config/validation.go\n\n## Dependencies\n- ax-kjq (F03: Core Types) - for shared types if any","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T18:53:27.711414+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T19:16:27.520683+03:00","closed_at":"2026-01-26T19:16:27.520683+03:00","close_reason":"Closed","labels":["m1-core"],"dependencies":[{"issue_id":"ax-gme","depends_on_id":"ax-kjq","type":"blocks","created_at":"2026-01-26T18:53:27.715119+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-gyg","title":"DOC: Case ID Format Specification","description":"## Context\nCase IDs like task-042, oper-003, disc-030 are used throughout but format not specified in 04-cases.md.\n\n## Acceptance Criteria\n- [ ] Add \"Case IDs\" section to 04-cases.md\n- [ ] Document format: {type}-{NNN}\n- [ ] List all type prefixes (task, oper, disc, dir, draft, etc.)\n- [ ] Document counter mechanism\n\n## Files\n- docs/04-cases.md","status":"closed","priority":3,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T17:48:39.549626+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T18:05:26.323454+03:00","closed_at":"2026-01-26T18:05:26.323454+03:00","close_reason":"Closed","labels":["docs"]}
{"id":"ax-h79","title":"DOC: Terminology Consistency Pass","description":"## Context\nScout review found several terminology inconsistencies across docs:\n1. Workspace vs Worktree used interchangeably\n2. Agent vs Persona confusion\n3. Main vs Master branch references\n4. maxParallel config vs AXIOM_MAX_AGENTS env var\n\n## Problem\nInconsistent terminology confuses readers.\n\n## Acceptance Criteria\n- [ ] Standardize: \"workspace\" for user-facing, \"git worktree\" for implementation\n- [ ] Standardize: \"persona\" for role/type, \"agent\" for instance\n- [ ] Use \"main\" consistently (not \"master\")\n- [ ] Clarify config/env var naming relationship\n- [ ] Add terminology section to 16-glossary.md if needed\n\n## Files\n- All docs files (search and replace pass)\n- docs/16-glossary.md (add clarifications)","status":"closed","priority":2,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T17:47:54.027819+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T17:53:06.696789+03:00","closed_at":"2026-01-26T17:53:06.696789+03:00","close_reason":"Closed","labels":["docs"]}
{"id":"ax-iky","title":"DOC: Add missing cross-references","description":"## Context\nScout review identified 5 missing cross-references between related sections.\n\n## Problem\nRelated documentation sections don't link to each other.\n\n## Acceptance Criteria\n- [ ] Signal Validation (05-agents) → Error Handling (15-errors)\n- [ ] Config Recovery (01-config) ↔ Intervention (09-intervention)\n- [ ] Discovery Lifecycle → Cleo section (08-discovery internal)\n- [ ] Prerequisite Errors (02-modes) → Errors (15-errors)\n- [ ] Planning Crash Recovery → Planning State (09 → 03)\n\n## Files\n- docs/05-agents.md\n- docs/01-configuration.md\n- docs/09-intervention.md\n- docs/08-discovery.md\n- docs/02-modes.md","status":"closed","priority":3,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T17:08:32.578201+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T17:28:39.496631+03:00","closed_at":"2026-01-26T17:28:39.496631+03:00","close_reason":"Closed","labels":["docs"]}
{"id":"ax-isd","title":"PLAN: Ava Prompt Template Design","description":"## What\nDesign Ava's prompt template for project-level technical analysis and config creation.\n\n## Context\n\nAva is the Init Agent responsible for:\n- Detecting project tech stack (greenfield/brownfield)\n- Creating config.json\n- Onboarding new users\n- Handling config changes for returning users\n\n**Key Decisions:**\n- No analysis.json - only config.json\n- Triggered via command palette (not settings page)\n- Greenfield/brownfield = runtime detection, not stored\n\n## Ava's Question Checklist\n\nAva must find answers to ALL these before creating/updating config:\n\n### 1. Project Type (Runtime Only)\n```\n□ Is this greenfield or brownfield?\n  - Detection: codeFiles == 0 \u0026\u0026 !hasConfig → Greenfield\n  - NOT stored in config.json\n```\n\n### 2. Language \u0026 Framework\n```\n□ Primary language? (Go, TypeScript, Python, Rust, etc.)\n□ Framework? (htmx, React, Django, etc.)\n  - Brownfield: Detect from go.mod, package.json, etc.\n  - Greenfield: Ask user\n```\n\n### 3. Build \u0026 Test\n```\n□ Test framework? (testing, Jest, pytest, etc.)\n□ Test command? (go test ./..., npm test, etc.)\n□ Test file pattern? (*_test.go, *.test.ts, etc.)\n```\n\n### 4. Code Quality\n```\n□ Linter? (golangci-lint, eslint, ruff, etc.)\n□ Lint command?\n□ Formatter? (gofmt, prettier, black, etc.)\n□ Format command?\n```\n\n### 5. Verification Commands\n```\n□ Final verification array for config.json\n  - Combine: test + lint + build\n  - Confirm order with user if needed\n```\n\n## Prompt Structure\n\n### Identity Section\n```markdown\n# Analyst Ava Context\n\n## Your Role: ANALYST (Project Setup)\n\nYou are Ava, the Init Agent for AXIOM. You set up projects and create\nconfiguration for planning and implementation.\n\n**Your responsibilities:**\n- Detect project type and tech stack\n- Identify verification commands\n- Create and maintain config.json\n- Onboard new users\n- Help returning users with config changes\n\n**You do NOT:**\n- Plan tasks (Axel does this)\n- Implement code (Echo does this)\n- Make assumptions when uncertain (ask user)\n```\n\n### State Detection Section\n```markdown\n## First Action: Check State\n\nBefore anything else, determine your context:\n\n1. Check if .axiom/config.json exists\n2. If NO → This is first run, do full onboarding\n3. If YES → User triggered you via command palette, ask what they need\n```\n\n### Onboarding Section (First Run)\n```markdown\n## First Run: Onboarding Flow\n\n### Step 1: Introduction\n\"👋 Hi! I'm Ava, your project analyst.\n\nI'll help set up AXIOM for this project. Let me scan your codebase...\"\n\n### Step 2: Scan \u0026 Detect\n- Scan for config files (go.mod, package.json, etc.)\n- Detect language, framework, test/lint tools\n- Show progress to user\n\n### Step 3: Present Findings\n\"Here's what I found:\n• Language: Go 1.22\n• Entry point: cmd/axiom/main.go\n• Test command: go test ./...\n• Linter: golangci-lint\"\n\n### Step 4: Ask Clarifying Questions\nOnly ask if detection is uncertain (\u003c80% confidence):\n- \"I found both Jest and Vitest. Which is primary?\"\n- \"No linter detected. Would you like to add one?\"\n\n### Step 5: Create Config\nGenerate config.json with detected + confirmed values.\n\n### Step 6: Handoff\n\"✅ Project setup complete! \n\nYour config is saved in .axiom/config.json.\n\nWhat would you like to build? (I'll hand you off to Axel for planning)\"\n```\n\n### Returning User Section\n```markdown\n## Returning User: Command Palette Trigger\n\n### Greeting\n\"Hi again! What can I help you with?\n\n• Re-analyze my project (tech stack changed)\n• Update verification commands\n• Change agent settings\n• Something else\"\n\n### Handle Request\nBased on user selection:\n- Re-analyze: Scan again, show diff, confirm changes\n- Update commands: Show current, ask what to change\n- Change settings: Show current, ask what to change\n- Something else: Free-form conversation\n\n### Update Config\nAfter changes confirmed:\n- Update config.json\n- Show summary of changes\n- \"Config updated! Anything else?\"\n```\n\n### Greenfield Section\n```markdown\n## Greenfield Mode (Empty Project)\n\nIf no code files detected:\n\n### Step 1: Acknowledge\n\"I see this is a new project. Let's set it up together.\"\n\n### Step 2: Ask Tech Stack\n\"What language would you like to use?\n• Go\n• TypeScript\n• Python\n• Rust\n• Other: ___\"\n\n### Step 3: Propose Defaults\nBased on language choice, propose:\n- Standard verification commands\n- Recommended project structure (info only)\n\n### Step 4: Create Config\nWith user's choices.\n```\n\n### Output Section\n```markdown\n## Config Output\n\nWhen ready to write config, emit:\n\u003caxiom\u003eCONFIG_WRITE:{json content}\u003c/axiom\u003e\n\nWhen onboarding complete, emit:\n\u003caxiom\u003eINIT_COMPLETE:handoff_to_axel\u003c/axiom\u003e\n\nWhen returning user session complete, emit:\n\u003caxiom\u003eAVA_SESSION_COMPLETE\u003c/axiom\u003e\n```\n\n## File Detection Reference\n\n| File | Indicates |\n|------|-----------|\n| go.mod | Go |\n| package.json | Node.js/TypeScript |\n| Cargo.toml | Rust |\n| pyproject.toml | Python |\n| .golangci.yml | golangci-lint |\n| .eslintrc* | ESLint |\n| tsconfig.json | TypeScript |\n\n## Deliverables\n- [ ] Define state detection logic\n- [ ] Define onboarding flow with exact messages\n- [ ] Define returning user flow\n- [ ] Define greenfield flow\n- [ ] Define config output signal\n- [ ] Define handoff signals\n- [ ] Create template: internal/agent/prompts/ava.md.tmpl\n\n## References\n- docs/01-configuration.md (config schema)\n- ax-0z9 (Ava role definition)\n- ax-c4g (Greenfield/brownfield detection)\n\n## Related\n- ax-0z9 (Ava role)\n- ax-c4g (Detection logic)\n- ax-rf9 (Signal format)","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T23:00:22.325078+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T23:50:57.40846+03:00","closed_at":"2026-01-26T23:50:57.40846+03:00","close_reason":"Template created with all flows: state detection, onboarding, returning user, greenfield. Signals defined.","labels":["planning"],"dependencies":[{"issue_id":"ax-isd","depends_on_id":"ax-0z9","type":"blocks","created_at":"2026-01-26T23:00:32.735323+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-jel","title":"PLAN: Command Palette with Ava Trigger","description":"## What\nDesign command palette for Web UI with \"Talk to Ava\" action.\n\n## Context\n- No settings page for MVP\n- User edits config.json directly for simple changes\n- Ava is triggered via command palette when user needs conversation\n\n## Command Palette Design\n\n### Trigger\n- Keyboard: Cmd+K (Mac) / Ctrl+K (Windows/Linux)\n- UI: Search/command icon in header\n\n### Available Commands\n\n| Command | Description | Action |\n|---------|-------------|--------|\n| Talk to Ava | Open Ava conversation | Opens Ava chat panel |\n| Start Planning | Begin planning with Axel | Opens Axel chat (if config exists) |\n| View Tasks | Show task list | Navigate to tasks view |\n| View Config | Open config.json | Maybe: show in UI or open in editor? |\n\n### \"Talk to Ava\" Flow\n\n```\nUser: Cmd+K → types \"ava\" → selects \"Talk to Ava\"\n    ↓\nUI opens Ava conversation panel\n    ↓\nAva checks state (first run vs returning)\n    ↓\nAppropriate flow begins\n```\n\n### UI Mockup\n\n```\n┌─────────────────────────────────────────────────────┐\n│  🔍 Search commands...                         ⌘K  │\n├─────────────────────────────────────────────────────┤\n│                                                     │\n│  💬 Talk to Ava                                     │\n│     Open conversation with project analyst          │\n│                                                     │\n│  📋 Start Planning                                  │\n│     Begin planning a new feature with Axel          │\n│                                                     │\n│  ✅ View Tasks                                      │\n│     See current task list                           │\n│                                                     │\n└─────────────────────────────────────────────────────┘\n```\n\n### First Run Behavior\n\nIf no .axiom/config.json:\n- Show banner: \"Welcome! Let's set up your project.\"\n- Auto-open Ava conversation (or prominent button)\n- Other commands disabled until setup complete\n\n## Deliverables\n- [ ] Define command palette keyboard shortcut\n- [ ] Define available commands list\n- [ ] Define \"Talk to Ava\" action\n- [ ] Define first-run behavior (auto-trigger Ava)\n- [ ] Design UI mockup\n- [ ] Consider: htmx implementation approach\n\n## References\n- docs/10-interface.md (Web UI)\n- ax-0z9 (Ava trigger mechanism)\n- ax-isd (Ava prompt)\n\n## Related\n- ax-0z9 (Ava role)\n- ax-isd (Ava prompt)","status":"tombstone","priority":2,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T23:20:54.314435+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T01:10:54.833188+03:00","labels":["ui"],"dependencies":[{"issue_id":"ax-jel","depends_on_id":"ax-0z9","type":"blocks","created_at":"2026-01-26T23:22:20.80076+03:00","created_by":"Yunus Emre Deligöz"}],"deleted_at":"2026-01-27T01:10:54.833188+03:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"ax-kjq","title":"F03: Core Types","description":"## What\nDefine core type system for AXIOM cases\n\n## Reference\n- docs/04-cases.md (Case Data Model, Type System)\n\n## Acceptance Criteria\n- [ ] CaseType enum (directive, draft, research, pending, deferred, operation, task, discovery)\n- [ ] Status enum (pending, active, blocked, done, failed, timeout, review, outdated, archived)\n- [ ] Case struct with all fields\n- [ ] HistoryEntry struct\n- [ ] Metadata interfaces/types for each case type\n- [ ] Case ID validation helper\n- [ ] 12 tests pass\n\n## Files\n- internal/case/types.go\n- internal/case/types_test.go\n\n## Test Strategy\n- Type creation and validation\n- Case ID format validation\n- Metadata type assertions","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T18:53:08.178083+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T19:16:20.174201+03:00","closed_at":"2026-01-26T19:16:20.174201+03:00","close_reason":"Closed","labels":["m1-core"],"dependencies":[{"issue_id":"ax-kjq","depends_on_id":"ax-g08","type":"blocks","created_at":"2026-01-26T18:53:08.179365+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-kuf","title":"DOC: Plan Rejection Flow","description":"## Context\nBefore starting, review docs/03-planning.md (5-Phase Dialogue) thoroughly.\n\n## Problem\nNo documentation on what happens when user rejects the plan at Approve phase.\n\n## Questions to Answer\n- Does planning restart from scratch?\n- Are created Draft/Operation cases deleted?\n- Can user provide rejection feedback?\n- Is there a partial approval option?\n\n## Acceptance Criteria\n- [ ] Document plan rejection flow in 03-planning.md\n- [ ] Add rejection options (restart, modify, partial approve)\n- [ ] Document case cleanup on rejection\n- [ ] Add to Axel's behavior description\n\n## Files\n- docs/03-planning.md\n- docs/05-agents.md (Axel section)","status":"closed","priority":2,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T15:59:22.157786+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T17:01:36.317515+03:00","closed_at":"2026-01-26T17:01:36.317515+03:00","close_reason":"Closed","labels":["m2-planning"],"dependencies":[{"issue_id":"ax-kuf","depends_on_id":"ax-8kc","type":"blocks","created_at":"2026-01-26T16:01:52.933246+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-m63","title":"DOC: Config Schema Validation Behavior","description":"## Missing Documentation\n01-configuration.md shows schema but doesn't document validation behavior:\n\n1. **Unknown Keys**\n   - Ignored silently?\n   - Warning logged?\n   - Error thrown?\n\n2. **Invalid Values**\n   - Use defaults with warning?\n   - Refuse to start?\n   - Partial load?\n\n3. **Schema Versioning**\n   - Config format changes between AXIOM versions?\n   - Migration path?\n\n## Location\n- docs/01-configuration.md - add \"Config Validation\" section\n\n## Expected Content\n```markdown\n## Config Validation\n\n### Unknown Keys\nUnknown keys are **ignored with warning**:\n\\`\\`\\`\nWarning: Unknown config key 'foo.bar' ignored\n\\`\\`\\`\n\n### Invalid Values\nInvalid values fall back to defaults:\n\\`\\`\\`\nWarning: Invalid agents.maxParallel=-1, using default (3)\n\\`\\`\\`\n\n### Schema Version\nConfig file should include version for future migrations:\n\\`\\`\\`json\n{\n  \"version\": 1,\n  ...\n}\n\\`\\`\\`\n```","status":"closed","priority":3,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T16:55:31.131756+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T17:23:29.633795+03:00","closed_at":"2026-01-26T17:23:29.633795+03:00","close_reason":"Closed","labels":["m1-init"]}
{"id":"ax-mg3","title":"PLAN: Scaffold Add Axel \u0026 Echo Prompts","description":"## What\nExtend scaffold system to include Axel and Echo prompts.\n\n## Context\nMVP scaffold (ax-tgh) only includes Ava prompt.\nThis task adds Axel and Echo prompts after they're designed.\n\n## Extended Structure\n\n```\n.axiom/\n├── config.json\n└── agents/\n    ├── ava/\n    │   └── prompt.md        ← Already in MVP\n    ├── axel/\n    │   └── prompt.md        ← NEW: From axel.md.tmpl\n    └── echo/\n        └── prompt.md        ← NEW: From echo.md.tmpl\n```\n\n## Implementation\n\n```go\n//go:embed prompts/*.md.tmpl\nvar promptTemplates embed.FS\n\nfunc Scaffold(projectDir string) error {\n    // ... existing MVP code ...\n    \n    // Add Axel prompt\n    axelDir := filepath.Join(axiomDir, \"agents\", \"axel\")\n    os.MkdirAll(axelDir, 0o755)\n    // render axel.md.tmpl\n    \n    // Add Echo prompt\n    echoDir := filepath.Join(axiomDir, \"agents\", \"echo\")\n    os.MkdirAll(echoDir, 0o755)\n    // render echo.md.tmpl\n}\n```\n\n## Deliverables\n- [ ] Update embed to include all prompts\n- [ ] Add Axel directory creation\n- [ ] Add Echo directory creation\n- [ ] Render Axel prompt\n- [ ] Render Echo prompt\n- [ ] 2 additional tests\n\n## Dependencies\n- ax-tgh: MVP Scaffold (must exist first)\n- ax-ns4: Axel Prompt Template (must be designed)\n- ax-4up: Echo Prompt Template (must be designed)","status":"tombstone","priority":2,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T00:16:09.023497+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T01:10:54.772131+03:00","labels":["planning"],"dependencies":[{"issue_id":"ax-mg3","depends_on_id":"ax-tgh","type":"blocks","created_at":"2026-01-27T00:16:09.0247+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-mg3","depends_on_id":"ax-ns4","type":"blocks","created_at":"2026-01-27T00:16:09.025809+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-mg3","depends_on_id":"ax-4up","type":"blocks","created_at":"2026-01-27T00:16:09.026726+03:00","created_by":"Yunus Emre Deligöz"}],"deleted_at":"2026-01-27T01:10:54.772131+03:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"ax-mhu","title":"BUG: Characters missing at start of subsequent messages","description":"## Problems\n1. Characters missing at start of subsequent messages\n2. User messages appearing twice\n\n## Observed\n- \"👋 set up\" instead of \"I help set up\"\n- \"You: neler yapabiliyorsun\" appears twice\n\n## Likely Cause\n- Race condition in SSE reconnect\n- Duplicate buffering of user messages (once in JS, once from server)\n\n## Files\n- internal/web/server.go\n- internal/web/templates/layout.html","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T10:52:16.871216+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T10:55:32.880221+03:00","closed_at":"2026-01-27T10:55:32.880221+03:00","close_reason":"Closed","labels":["bug"]}
{"id":"ax-nnk","title":"Preserve conversation history on page refresh","description":"## Problem\nPage refresh clears all previous messages.\nConversation history only exists in server memory.\n\n## Solution Options\n1. **Server-side**: Send history on SSE connect\n2. **Client-side**: Store in localStorage\n3. **Hybrid**: Server stores, sends on connect\n\n## Acceptance Criteria\n- [ ] Previous messages visible after refresh\n- [ ] New messages append correctly\n- [ ] History clears when init completes\n\n## Files\n- internal/web/server.go\n- internal/web/templates/layout.html","status":"closed","priority":2,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T10:40:56.529518+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T10:48:11.9245+03:00","closed_at":"2026-01-27T10:48:11.9245+03:00","close_reason":"Closed","labels":["m6-ui"]}
{"id":"ax-ns4","title":"PLAN: Axel Prompt Template Design","description":"## What\nDesign Axel's prompt template for the 5-phase planning dialogue.\n\n## Context\nAxel is the Architect agent responsible for:\n1. Understanding user's goal (Phase 1)\n2. Analyzing relevant code for the goal (Phase 2)\n3. Proposing architecture (Phase 3)\n4. Decomposing into Tasks (Phase 4)\n5. Validating Tasks (Phase 5)\n\n**Key Distinction:**\n- Ava: Project-level analysis → creates config.json\n- Axel Phase 2: Goal-specific analysis → finds relevant files for THIS feature\n\nAxel does NOT write code. Axel coordinates and plans.\n\n## Axel's Input\n\nAxel receives from Ava (via config.json):\n- Tech stack (language, framework)\n- Verification commands\n- Agent settings\n\nAxel gathers for each goal:\n- Relevant files for this specific feature\n- Existing patterns to follow\n- Dependencies to consider\n\n## Prompt Structure\n\n### Identity Section\n```markdown\n# Architect Axel Context\n\n## Your Role: ARCHITECT (Planning Coordinator)\n\nYou are Axel, the Architect agent for AXIOM. You plan and coordinate,\nbut you do NOT write code.\n\n**Your responsibilities:**\n- Understand user goals and translate to JTBD format\n- Analyze relevant code for each specific goal\n- Propose architecture for user approval\n- Decompose approved plans into atomic Tasks\n- Validate Tasks meet INVEST criteria\n\n**You do NOT:**\n- Write implementation code\n- Execute Tasks (Echo does this)\n- Do project-level setup (Ava does this)\n- Make user decisions without asking\n```\n\n### Phase-Specific Sections\n```markdown\n## Current Phase: {{ .Phase }}\n\n{{ if eq .Phase \"understand\" }}\n### Phase 1: UNDERSTAND\nAsk clarifying questions about the user's GOAL (not project setup).\n\n**Question categories:**\n- Scope boundaries for this feature\n- Specific requirements\n- Constraints\n- Integration points\n\n**User response options:**\n- Direct answer → Use it\n- \"You decide\" → Make reasonable choice, document it\n- \"Skip\" → Proceed without\n{{ end }}\n\n{{ if eq .Phase \"analyze\" }}\n### Phase 2: ANALYZE (Goal-Specific)\n\nThis is NOT project-level analysis (Ava did that).\nThis is finding relevant code for THIS SPECIFIC GOAL.\n\n**Your job:**\n- Find files relevant to this feature\n- Identify existing patterns to follow\n- Note potential conflicts or dependencies\n- Understand how this fits into existing code\n\n**Output:** List of relevant files and patterns for proposal.\n{{ end }}\n\n{{ if eq .Phase \"propose\" }}\n### Phase 3: PROPOSE\nPresent architecture proposal for user approval.\n\n**Proposal structure:**\n1. Components (what we'll build)\n2. Key decisions (with rationale)\n3. Relevant existing patterns (from Phase 2)\n4. Estimated scope (Tasks, tests)\n\n**User actions:**\n- Approve → Proceed to DECOMPOSE\n- Modify → Adjust specific parts\n- Reject → Create new proposal\n{{ end }}\n\n{{ if eq .Phase \"decompose\" }}\n### Phase 4: DECOMPOSE\nGenerate atomic Tasks from approved architecture.\n\n**Task rules:**\n- Atomic: One responsibility\n- Testable: Verifiable criteria\n- Context-fit: Fits in agent window\n- Clear dependencies: Explicit blockers\n\nCreate Operation cases first, then split to Tasks.\n{{ end }}\n\n{{ if eq .Phase \"validate\" }}\n### Phase 5: VALIDATE\nRun validation loop until all Tasks pass.\n\n**Auto-fixable issues:**\n- Too many criteria → Split Task\n- Circular dependency → Remove weakest link\n- Missing dependency → Add inferred\n- Context too large → Split Task\n\n**Needs user input:**\n- Vague criteria → Ask for clarification\n{{ end }}\n```\n\n### Context Section\n```markdown\n## Project Context (from config.json)\n\n**Tech Stack:** {{ .Config.Verification | join \", \" }}\n**Verification:** {{ range .Config.Verification }}\n- {{ . }}\n{{ end }}\n\n## Current Goal\n\n{{ .Directive.JTBD }}\n\n## Existing Cases\n{{ range .Cases }}\n- {{ .Type }}: {{ .Content }} [{{ .Status }}]\n{{ end }}\n```\n\n### Signals Section\n```markdown\n## Signals\n\n**Case creation:**\n- \u003caxiom\u003eDRAFT:content\u003c/axiom\u003e\n- \u003caxiom\u003eRESEARCH:question\u003c/axiom\u003e\n- \u003caxiom\u003ePENDING:question\u003c/axiom\u003e\n- \u003caxiom\u003eOPERATION:feature\u003c/axiom\u003e\n- \u003caxiom\u003eTASK:atomic work\u003c/axiom\u003e\n\n**Phase transitions:**\n- \u003caxiom\u003ePHASE_COMPLETE\u003c/axiom\u003e\n\n**User interaction:**\n- \u003caxiom\u003eASK:question\u003c/axiom\u003e\n- \u003caxiom\u003ePROPOSE:markdown\u003c/axiom\u003e\n```\n\n## Phase 2 Completion Criteria\n\nAxel's Phase 2 completes when:\n- Relevant files identified for the goal\n- Existing patterns noted\n- Dependencies understood\n- Ready to propose architecture\n\nThis is different from Ava's completion (project setup done).\n\n## Deliverables\n- [ ] Define Axel identity section\n- [ ] Define phase-specific behavior for all 5 phases\n- [ ] Define context injection (from config.json)\n- [ ] Define signal format for case creation\n- [ ] Clarify Phase 2 vs Ava's analysis\n- [ ] Create template: internal/agent/prompts/axel.md.tmpl\n\n## References\n- gastown/internal/templates/roles/mayor.md.tmpl (Mayor prompt)\n- docs/03-planning.md (5-phase dialogue)\n- docs/05-agents.md (Agent definitions)\n- ax-tqe (Phase 2 completion criteria)\n\n## Related\n- ax-0z9 (Ava role - project-level)\n- ax-isd (Ava prompt)\n- ax-tqe (Phase 2 criteria)\n- ax-rf9 (Signal format)","status":"tombstone","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T22:50:10.027899+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T01:10:54.650903+03:00","labels":["planning"],"dependencies":[{"issue_id":"ax-ns4","depends_on_id":"ax-tqe","type":"blocks","created_at":"2026-01-26T22:51:48.153191+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-ns4","depends_on_id":"ax-c4g","type":"blocks","created_at":"2026-01-26T22:51:48.226291+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-ns4","depends_on_id":"ax-rf9","type":"blocks","created_at":"2026-01-26T22:51:48.599727+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-ns4","depends_on_id":"ax-isd","type":"blocks","created_at":"2026-01-26T23:22:21.34972+03:00","created_by":"Yunus Emre Deligöz"}],"deleted_at":"2026-01-27T01:10:54.650903+03:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"ax-o0o","title":"Interactive agent conversation loop","description":"## What\nEnable multi-turn conversations with agents via conversation history.\n\n## Architecture\n1. Agent spawns, streams output\n2. User types response in input field\n3. System appends to conversation history\n4. Spawn new agent with: system prompt + conversation history + user message\n5. Repeat until COMPLETE signal\n\n## Acceptance Criteria\n- [ ] ConversationHistory struct stores messages\n- [ ] SpawnWithHistory(promptPath, history, userMessage) function\n- [ ] Input field in modal for user responses\n- [ ] POST /api/init/respond endpoint for user messages\n- [ ] SSE continues streaming after user responds\n- [ ] 4 tests pass\n\n## Files\n- internal/agent/conversation.go\n- internal/agent/conversation_test.go\n- internal/web/server.go (add respond endpoint)\n- internal/web/templates/layout.html (add input field)\n\n## Technical Notes\n- Conversation format: {\"role\": \"user|assistant\", \"content\": \"...\"}\n- Pass history via --message flag or concatenate with prompt\n- Store history in Server struct per session","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T09:42:14.172695+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T09:47:54.594505+03:00","closed_at":"2026-01-27T09:47:54.594505+03:00","close_reason":"Closed","labels":["m3-agent"]}
{"id":"ax-o3x","title":"DOC: Partial Planning Crash Recovery","description":"## Context\nBefore starting, review docs/03-planning.md and docs/09-intervention.md (Crash Recovery).\n\n## Problem\nNo documentation on recovery when AXIOM crashes during planning phase (e.g., 3 Operations created, 2 more pending).\n\n## Acceptance Criteria\n- [ ] Document planning state persistence\n- [ ] Add \"planning_in_progress\" state to CaseStore?\n- [ ] Document recovery: resume vs restart planning\n- [ ] Add to 09-intervention.md Crash Recovery section\n\n## Files\n- docs/03-planning.md\n- docs/09-intervention.md\n- docs/04-cases.md","status":"closed","priority":2,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T15:59:46.030319+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T17:02:37.170034+03:00","closed_at":"2026-01-26T17:02:37.170034+03:00","close_reason":"Closed","labels":["m2-planning"],"dependencies":[{"issue_id":"ax-o3x","depends_on_id":"ax-8kc","type":"blocks","created_at":"2026-01-26T16:01:53.115815+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-od8","title":"PLAN: Project Bootstrap","description":"## Directive Reference\n- CLAUDE.md (Build, Test, Run sections)\n- Go project best practices\n\n## Goal\nMake the Go project ready for development:\n- Compiles\n- Tests run\n- Linter passes\n- Standard structure\n\n## Expected Blue (Feature)\nONE Blue task: **F00: Go Project Ready**\n\n## Expected Greens (from Blue discussion)\nTBD after Blue discussion\n\n## PHP/Laravel Equivalent\nLike running `laravel new project` + configuring phpstan + phpunit.","status":"closed","priority":1,"issue_type":"epic","owner":"ye@deligoz.me","created_at":"2026-01-26T19:23:21.357864+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T19:28:40.006926+03:00","closed_at":"2026-01-26T19:28:40.006926+03:00","close_reason":"Closed","labels":["m1-core"]}
{"id":"ax-od8.1","title":"F00: Go Project Ready","description":"## Parent Grey\nax-od8: PLAN: Project Bootstrap\n\n## Atomic Feature\nProjeyi klonlayan biri şu komutları çalıştırabilir:\n- `make build` → Binary oluşur\n- `make test` → Test framework çalışır\n- `make lint` → golangci-lint geçer\n\n## PHP/Laravel Karşılığı\n`composer install \u0026\u0026 phpunit \u0026\u0026 phpstan analyse` çalışır durumda.\n\n## Expected Greens\nTBD after discussion\n\n## Acceptance Criteria\n- [ ] `make build` succeeds\n- [ ] `make test` succeeds (even with no tests yet)\n- [ ] `make lint` succeeds","status":"closed","priority":1,"issue_type":"feature","owner":"ye@deligoz.me","created_at":"2026-01-26T19:28:33.647181+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T19:51:51.047628+03:00","closed_at":"2026-01-26T19:51:51.047628+03:00","close_reason":"Closed","labels":["m1-core"],"dependencies":[{"issue_id":"ax-od8.1","depends_on_id":"ax-od8","type":"parent-child","created_at":"2026-01-26T19:28:33.648041+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-od8.1.1","title":"F00.1: go mod init","description":"## Test Case\nNo test - infrastructure task\n\n## Expected Behavior\n`go mod init github.com/deligoez/axiom` creates go.mod\n\n## Acceptance\n- [ ] go.mod exists\n- [ ] Module name: github.com/deligoez/axiom\n- [ ] Committed\n\n## PHP Karşılığı\n`composer init` komutu","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T19:47:08.756053+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T19:48:20.720923+03:00","closed_at":"2026-01-26T19:48:20.720923+03:00","close_reason":"Closed","labels":["m1-core"],"dependencies":[{"issue_id":"ax-od8.1.1","depends_on_id":"ax-od8.1","type":"parent-child","created_at":"2026-01-26T19:47:08.756918+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-od8.1.2","title":"F00.2: Project structure","description":"## Test Case\nNo test - infrastructure task\n\n## Expected Behavior\nStandard Go project directories exist:\n- cmd/axiom/\n- internal/\n\n## Acceptance\n- [ ] cmd/axiom/ directory exists\n- [ ] internal/ directory exists\n- [ ] Committed\n\n## PHP Karşılığı\nLaravel'deki app/, config/, routes/ klasörleri gibi","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T19:47:15.63965+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T19:48:42.282655+03:00","closed_at":"2026-01-26T19:48:42.282655+03:00","close_reason":"Closed","labels":["m1-core"],"dependencies":[{"issue_id":"ax-od8.1.2","depends_on_id":"ax-od8.1","type":"parent-child","created_at":"2026-01-26T19:47:15.640395+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-od8.1.3","title":"F00.3: golangci-lint config","description":"## Test Case\nNo test - config file\n\n## Expected Behavior\n.golangci.yml with sensible defaults for new project\n\n## Acceptance\n- [ ] .golangci.yml exists\n- [ ] Enables useful linters (errcheck, staticcheck, etc.)\n- [ ] Committed\n\n## PHP Karşılığı\nphpstan.neon dosyası","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T19:47:22.59273+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T19:49:06.806691+03:00","closed_at":"2026-01-26T19:49:06.806691+03:00","close_reason":"Closed","labels":["m1-core"],"dependencies":[{"issue_id":"ax-od8.1.3","depends_on_id":"ax-od8.1","type":"parent-child","created_at":"2026-01-26T19:47:22.593532+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-od8.1.4","title":"F00.4: Makefile targets","description":"## Test Case\nNo test - build script\n\n## Expected Behavior\nMakefile with targets:\n- make build\n- make test\n- make lint\n\n## Acceptance\n- [ ] Makefile exists\n- [ ] `make build` target defined\n- [ ] `make test` target defined\n- [ ] `make lint` target defined\n- [ ] Committed\n\n## PHP Karşılığı\ncomposer.json scripts section","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T19:47:29.572522+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T19:49:28.174762+03:00","closed_at":"2026-01-26T19:49:28.174762+03:00","close_reason":"Closed","labels":["m1-core"],"dependencies":[{"issue_id":"ax-od8.1.4","depends_on_id":"ax-od8.1","type":"parent-child","created_at":"2026-01-26T19:47:29.573312+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-od8.1.5","title":"F00.5: Placeholder main.go","description":"## Test Case\n`go build ./...` succeeds\n\n## Expected Behavior\ncmd/axiom/main.go exists and compiles\n\n## Acceptance\n- [ ] cmd/axiom/main.go exists\n- [ ] `go build ./...` succeeds\n- [ ] Binary created\n- [ ] Committed\n\n## PHP Karşılığı\nartisan dosyası veya public/index.php - entry point","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T19:47:37.439538+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T19:50:05.837262+03:00","closed_at":"2026-01-26T19:50:05.837262+03:00","close_reason":"Closed","labels":["m1-core"],"dependencies":[{"issue_id":"ax-od8.1.5","depends_on_id":"ax-od8.1","type":"parent-child","created_at":"2026-01-26T19:47:37.44032+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-od8.1.6","title":"F00.6: Placeholder test","description":"## Test Case\n`TestPlaceholder` - verifies test framework works\n\n## Expected Behavior\n`go test ./...` runs and passes\n\n## Acceptance\n- [ ] Test file exists (internal/placeholder_test.go)\n- [ ] `go test ./...` succeeds\n- [ ] Committed\n\n## PHP Karşılığı\ntests/Feature/ExampleTest.php - Laravel'in default testi","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T19:47:45.478997+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T19:51:34.936938+03:00","closed_at":"2026-01-26T19:51:34.936938+03:00","close_reason":"Closed","labels":["m1-core"],"dependencies":[{"issue_id":"ax-od8.1.6","depends_on_id":"ax-od8.1","type":"parent-child","created_at":"2026-01-26T19:47:45.479798+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-oj2","title":"PLAN: m1-core Implementation","description":"## Directive Reference\n- docs/00-overview.md (Core Philosophy, Case System)\n- docs/04-cases.md (CaseStore, Case Types)\n- docs/01-configuration.md (Config System)\n\n## What This Draft Covers\nMilestone m1-core: Core infrastructure for AXIOM\n- CaseStore (JSONL-based case storage)\n- Config system (JSON with validation)\n- Core types (Case, CaseType, CaseStatus, etc.)\n\n## Planning Scope\nThis is a DRAFT (Grey) task. Goal is to:\n1. Think through the milestone\n2. Identify dependencies\n3. Extract Operation (Blue) tasks\n4. Define test strategy\n\n## Prerequisites\n- [ ] Go project initialized (go.mod, basic structure)\n- [ ] golangci-lint configured\n- [ ] Basic Makefile/taskfile\n\n## Expected Operations (to be created after planning)\n- CHORE: Go project setup\n- F01: CaseStore\n- F02: Config System  \n- F03: Core Types\n\n## Dependencies\nNone - this is the foundation milestone.","status":"closed","priority":0,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T18:52:19.269677+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T18:53:35.122233+03:00","closed_at":"2026-01-26T18:53:35.122233+03:00","close_reason":"Closed","labels":["plan"]}
{"id":"ax-oui","title":"DOC: Verification Command Timeout","description":"## Context\nBefore starting, review docs/07-execution.md (Verification Gate) and docs/01-configuration.md.\n\n## Problem\nNo timeout configuration for verification commands. A slow test suite could block indefinitely.\nCurrent timeoutMinutes (30) is for agent iteration, not verification.\n\n## Acceptance Criteria\n- [ ] Add verification timeout config: `verification.timeoutSeconds`\n- [ ] Document per-command timeout option\n- [ ] Document behavior on verification timeout (fail? skip? retry?)\n- [ ] Update 07-execution.md Verification Gate section\n\n## Files\n- docs/01-configuration.md\n- docs/07-execution.md\n- docs/15-errors.md","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T16:00:21.439467+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T16:47:30.614411+03:00","closed_at":"2026-01-26T16:47:30.614411+03:00","close_reason":"Closed","labels":["m3-execution"],"dependencies":[{"issue_id":"ax-oui","depends_on_id":"ax-8kc","type":"blocks","created_at":"2026-01-26T16:01:53.571656+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-q03","title":"Agent Streamer (non-blocking spawn)","description":"## What\nNew agent spawn method that streams stdout instead of blocking.\n\n## Acceptance Criteria\n- [ ] `SpawnStreaming(promptPath, message)` returns channel of lines\n- [ ] Reads stdout line-by-line in goroutine\n- [ ] Signals completion via channel close\n- [ ] Error handling for process failures\n- [ ] 4 tests pass\n\n## Files\n- internal/agent/streamer.go\n- internal/agent/streamer_test.go\n\n## Technical Notes\n- Use `cmd.StdoutPipe()` instead of `cmd.Output()`\n- Return `(\u003c-chan string, error)`\n- Close channel when process exits","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T01:34:36.474306+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T01:39:25.438995+03:00","closed_at":"2026-01-27T01:39:25.438995+03:00","close_reason":"Closed","labels":["m3-agent"]}
{"id":"ax-qdd","title":"Init Mode as Modal on Main UI","description":"## What\nReplace /init page with a modal overlay on the main UI (/).\n\n## Requirements\n- Modal covers 80% of screen (centered)\n- Shows Ava chat interface with streaming output\n- Appears automatically when init mode is active\n- SSE streams Ava output into modal\n- Close button or auto-close on completion\n- Background shows main UI (dimmed)\n\n## Bug to Fix\nCurrent SSE handler has closure bug - error not captured correctly in sync.Once\n\n## Files\n- internal/web/templates/layout.html (add modal)\n- internal/web/server.go (fix SSE handler)\n- internal/web/templates/init.html (delete or keep for reference)","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T07:23:40.934794+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T07:26:09.990384+03:00","closed_at":"2026-01-27T07:26:09.990384+03:00","close_reason":"Closed","labels":["m6-ui"]}
{"id":"ax-qj1","title":"PLAN: Agent Spawner - Timeout Handling","description":"## Question\nAgent sonsuza kadar çalışırsa ne olacak?\n\n## Decision: No Timeout for Ava\n\n### Rationale\n- Ava is interactive with the user\n- Asks questions, waits for responses\n- User thinking time is unpredictable\n- Timeout would kill mid-conversation = bad UX\n\n### Implementation\n```go\nfunc (s *Spawner) Spawn(promptPath string) (*Process, error) {\n    cmd := exec.Command(binPath, args...)\n    \n    // No timeout - wait indefinitely\n    output, err := cmd.Output()\n    // ...\n}\n```\n\n### Risk Mitigation\n- Ava prompt instructs completion with AVA_COMPLETE\n- If Ava gets stuck, user can Ctrl+C the main AXIOM process\n- For now, trust the agent\n\n### Future: Echo Timeout\nImplementation agent (Echo) might benefit from timeout:\n```go\nctx, cancel := context.WithTimeout(ctx, 30*time.Minute)\ndefer cancel()\n\ncmd := exec.CommandContext(ctx, binPath, args...)\n```\n\nBut NOT for interactive agents like Ava.","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T00:46:28.018186+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T01:01:06.568284+03:00","closed_at":"2026-01-27T01:01:06.568284+03:00","close_reason":"Closed","labels":["m3-agent"]}
{"id":"ax-rf9","title":"PLAN: Signal Format Standardization","description":"## What\nStandardize all AXIOM signal formats used by agents for communication.\n\n## Context\nAgents communicate with AXIOM via signals embedded in their output. These signals:\n- Create cases\n- Signal phase transitions\n- Report discoveries\n- Signal completion\n\n## Current Signal Inventory\n\nFrom docs, the following signals are used:\n\n### Case Creation Signals\n| Signal | Agent | Creates |\n|--------|-------|---------|\n| `\u003caxiom\u003eDRAFT:content\u003c/axiom\u003e` | Axel | Draft case |\n| `\u003caxiom\u003eRESEARCH:question\u003c/axiom\u003e` | Axel | Research case |\n| `\u003caxiom\u003ePENDING:question\u003c/axiom\u003e` | Axel | Pending case |\n| `\u003caxiom\u003eOPERATION:feature\u003c/axiom\u003e` | Axel | Operation case |\n| `\u003caxiom\u003eTASK:atomic work\u003c/axiom\u003e` | Axel | Task case |\n\n### Discovery Signals\n| Signal | Agent | Effect |\n|--------|-------|--------|\n| `\u003caxiom\u003eDISCOVERY_LOCAL:learning\u003c/axiom\u003e` | Echo | Local discovery case |\n| `\u003caxiom\u003eDISCOVERY_GLOBAL:learning\u003c/axiom\u003e` | Echo | Global discovery case |\n\n### Lifecycle Signals\n| Signal | Agent | Effect |\n|--------|-------|--------|\n| `\u003caxiom\u003eCOMPLETE\u003c/axiom\u003e` | Echo | Task complete |\n| `\u003caxiom\u003ePHASE_COMPLETE\u003c/axiom\u003e` | Axel | Phase transition |\n| `\u003caxiom\u003eITERATION:N\u003c/axiom\u003e` | Echo | Iteration tracking |\n| `\u003caxiom\u003eSTUCK:reason\u003c/axiom\u003e` | Echo | Cannot proceed |\n| `\u003caxiom\u003eBLOCKED:dependency\u003c/axiom\u003e` | Echo | External blocker |\n\n### User Interaction Signals\n| Signal | Agent | Effect |\n|--------|-------|--------|\n| `\u003caxiom\u003eASK:question\u003c/axiom\u003e` | Axel | Ask user question |\n| `\u003caxiom\u003ePROPOSE:markdown\u003c/axiom\u003e` | Axel | Present proposal |\n\n## Signal Format\n\n### Basic Format\n```\n\u003caxiom\u003eTYPE:payload\u003c/axiom\u003e\n```\n\n### With Metadata\n```\n\u003caxiom\u003eTYPE:payload|key1=value1|key2=value2\u003c/axiom\u003e\n```\n\nExample:\n```\n\u003caxiom\u003eTASK:Implement user login|parent=op-001|priority=1\u003c/axiom\u003e\n\u003caxiom\u003eDISCOVERY_LOCAL:Go requires explicit error handling|impact=high\u003c/axiom\u003e\n```\n\n## Parsing\n\n```go\ntype Signal struct {\n    Type     string            `json:\"type\"`\n    Payload  string            `json:\"payload\"`\n    Metadata map[string]string `json:\"metadata,omitempty\"`\n}\n\nfunc ParseSignal(output string) ([]Signal, error) {\n    re := regexp.MustCompile(`\u003caxiom\u003e([A-Z_]+):([^\u003c]+)\u003c/axiom\u003e`)\n    matches := re.FindAllStringSubmatch(output, -1)\n    \n    var signals []Signal\n    for _, m := range matches {\n        signalType := m[1]\n        parts := strings.Split(m[2], \"|\")\n        payload := parts[0]\n        \n        metadata := make(map[string]string)\n        for _, part := range parts[1:] {\n            kv := strings.SplitN(part, \"=\", 2)\n            if len(kv) == 2 {\n                metadata[kv[0]] = kv[1]\n            }\n        }\n        \n        signals = append(signals, Signal{\n            Type:     signalType,\n            Payload:  payload,\n            Metadata: metadata,\n        })\n    }\n    return signals, nil\n}\n```\n\n## Validation Rules\n\n| Signal | Validation |\n|--------|------------|\n| TASK | Must have content, optionally parent |\n| OPERATION | Must have content |\n| DISCOVERY_* | Must have content, optionally impact |\n| COMPLETE | No payload required |\n| ASK | Must have question content |\n\n## Deliverables\n- [ ] Document all signal types in one place\n- [ ] Define metadata format (pipe-separated key=value)\n- [ ] Define parsing logic\n- [ ] Define validation rules per signal type\n- [ ] Update docs/04-cases.md with signal reference\n- [ ] Create internal/signal/parser.go\n\n## References\n- docs/04-cases.md (mentions signals but scattered)\n- docs/07-execution.md (completion signal)\n- docs/03-planning.md (phase signals implied)\n\n## Related\n- ax-ns4 (Axel prompt - emits signals)\n- ax-4up (Echo prompt - emits signals)","status":"closed","priority":2,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T22:51:39.431177+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T00:29:49.805213+03:00","closed_at":"2026-01-27T00:29:49.805213+03:00","close_reason":"Closed","labels":["planning"]}
{"id":"ax-rh0","title":"DOC: HTMX SSE Error Recovery","description":"## Missing Documentation\n10-interface.md has HTMX/SSE patterns but doesn't document error recovery:\n\n1. **SSE Connection Drop**\n   - What happens when browser loses SSE connection?\n   - Auto-reconnect? Manual refresh needed?\n   - Stale UI state detection?\n\n2. **Server Errors**\n   - 500 error during HTMX request?\n   - Timeout on fragment fetch?\n   - Partial HTML response?\n\n3. **Client-Side Fallbacks**\n   - What if HTMX JS fails to load?\n   - Progressive enhancement guarantees?\n\n## Location\n- docs/10-interface.md - expand \"Error Handling\" section\n\n## Expected Content\n```markdown\n## Error Recovery\n\n### SSE Connection\n\\`\\`\\`html\n\u003cdiv hx-ext=\"sse\"\n     sse-connect=\"/api/events\"\n     sse-reconnect=\"true\"\u003e\n  \u003c!-- Auto-reconnect on disconnect --\u003e\n\u003c/div\u003e\n\\`\\`\\`\n\n### Server Errors\n\\`\\`\\`html\n\u003cdiv hx-get=\"/partials/tasks\"\n     hx-target-error=\"#error-panel\"\u003e\n\u003c/div\u003e\n\\`\\`\\`\n```","status":"closed","priority":3,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T16:55:29.141077+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T17:22:29.73185+03:00","closed_at":"2026-01-26T17:22:29.73185+03:00","close_reason":"Closed","labels":["m4-integration"]}
{"id":"ax-rkg","title":"DOC: Remote Force Push Detection","description":"## Context\nBefore starting, review docs/06-integration.md and docs/09-intervention.md.\n\n## Problem\nNo documentation on handling remote force push to main branch.\nLocal merge queue could have diverged refs.\n\n## Acceptance Criteria\n- [ ] Document force push detection mechanism\n- [ ] Document recovery: re-fetch, rebase pending, alert user\n- [ ] Add to Integration Service pre-merge checks\n- [ ] Consider: periodic remote sync check\n\n## Files\n- docs/06-integration.md\n- docs/09-intervention.md\n- docs/15-errors.md","status":"closed","priority":2,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T16:01:07.822309+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T17:14:17.076496+03:00","closed_at":"2026-01-26T17:14:17.076496+03:00","close_reason":"Closed","labels":["m4-integration"],"dependencies":[{"issue_id":"ax-rkg","depends_on_id":"ax-1yu","type":"blocks","created_at":"2026-01-26T16:01:53.711385+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-s1o","title":"SSE infrastructure for agent streaming","description":"## What\nAdd SSE (Server-Sent Events) endpoint for streaming agent output to browser.\n\n## Acceptance Criteria\n- [ ] `/sse/agent/{id}` endpoint returns SSE stream\n- [ ] AgentStreamer reads stdout line-by-line\n- [ ] Each line pushed as SSE event\n- [ ] Connection cleanup on agent completion\n- [ ] 3 tests pass\n\n## Files\n- internal/web/sse.go\n- internal/web/sse_test.go\n- internal/agent/streamer.go\n- internal/agent/streamer_test.go\n\n## Technical Notes\n- Use `text/event-stream` content type\n- Format: `data: \u003cline\u003e\\n\\n`\n- Keep-alive with `: heartbeat\\n\\n`","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T01:34:28.303257+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T01:41:04.488329+03:00","closed_at":"2026-01-27T01:41:04.488329+03:00","close_reason":"Closed","labels":["m6-ui"]}
{"id":"ax-tgh","title":"PLAN: MVP Scaffold System (Ava Only)","description":"## What\nCreate .axiom/ directory structure on first run with minimal config and Ava prompt only.\n\n## Decision\n- AXIOM (not agents) creates the .axiom/ folder structure on first run\n- MVP: Only Ava prompt included initially\n- Axel/Echo prompts added later when designed\n\n## MVP Scaffold Structure\n\n```\n.axiom/\n├── config.json              ← Minimal: {\"version\":\"1.0.0\"}\n└── agents/\n    └── ava/\n        └── prompt.md        ← From internal/agent/prompts/ava.md.tmpl\n```\n\n## Flow\n\n1. `axiom` command runs\n2. Check if `.axiom/` exists\n3. If NO → call `scaffold()`\n   - Create .axiom/ directory\n   - Create .axiom/agents/ava/ directory\n   - Render ava.md.tmpl → .axiom/agents/ava/prompt.md\n   - Create minimal config.json\n4. If YES → continue normally\n5. Start Ava with `.axiom/agents/ava/prompt.md`\n\n## Implementation\n\n```go\n//go:embed prompts/ava.md.tmpl\nvar avaPromptTemplate string\n\nfunc Scaffold(projectDir string) error {\n    axiomDir := filepath.Join(projectDir, \".axiom\")\n    \n    // Create directories\n    avaDir := filepath.Join(axiomDir, \"agents\", \"ava\")\n    if err := os.MkdirAll(avaDir, 0o755); err != nil {\n        return err\n    }\n    \n    // Create minimal config\n    configPath := filepath.Join(axiomDir, \"config.json\")\n    config := `{\"version\":\"1.0.0\"}`\n    if err := os.WriteFile(configPath, []byte(config), 0o644); err != nil {\n        return err\n    }\n    \n    // Render and write Ava prompt\n    promptPath := filepath.Join(avaDir, \"prompt.md\")\n    if err := os.WriteFile(promptPath, []byte(avaPromptTemplate), 0o644); err != nil {\n        return err\n    }\n    \n    return nil\n}\n```\n\n## Deliverables\n- [ ] Define Scaffold() function signature\n- [ ] Embed ava.md.tmpl with go:embed\n- [ ] Create directory structure\n- [ ] Create minimal config.json\n- [ ] Render Ava prompt\n- [ ] Add scaffold check to main.go\n- [ ] 4 tests pass\n\n## Files\n- internal/scaffold/scaffold.go\n- internal/scaffold/scaffold_test.go\n- cmd/axiom/main.go (add scaffold check)\n\n## What's NOT in MVP\n- Axel prompt (ax-ns4 first)\n- Echo prompt (ax-4up first)\n- Full config population (Ava does this)\n\n## References\n- ax-isd (Ava prompt template - DONE)\n- docs/05-agents.md (agent file structure)","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T23:56:51.269524+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T00:19:29.629428+03:00","closed_at":"2026-01-27T00:19:29.629428+03:00","close_reason":"Blue tasks created: ax-tgh.1 through ax-tgh.5","labels":["planning"]}
{"id":"ax-tgh.1","title":"F: Scaffold Directory Creation","description":"## What\nCreate .axiom/ directory structure on first run.\n\n## Acceptance Criteria\n- [ ] Create internal/scaffold/scaffold.go\n- [ ] Scaffold() creates .axiom/ directory\n- [ ] Scaffold() creates .axiom/agents/ava/ directory\n- [ ] Returns error if directory creation fails\n- [ ] 3 tests pass\n\n## Implementation\n\n```go\npackage scaffold\n\nfunc Scaffold(projectDir string) error {\n    axiomDir := filepath.Join(projectDir, \".axiom\")\n    avaDir := filepath.Join(axiomDir, \"agents\", \"ava\")\n    \n    if err := os.MkdirAll(avaDir, 0o755); err != nil {\n        return fmt.Errorf(\"create directories: %w\", err)\n    }\n    \n    return nil\n}\n```\n\n## Test Cases\n- TestScaffold_CreatesAxiomDir\n- TestScaffold_CreatesAvaAgentDir\n- TestScaffold_ErrorOnPermissionDenied\n\n## Files\n- internal/scaffold/scaffold.go\n- internal/scaffold/scaffold_test.go","status":"closed","priority":1,"issue_type":"feature","owner":"ye@deligoz.me","created_at":"2026-01-27T00:18:45.059255+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T00:21:42.34748+03:00","closed_at":"2026-01-27T00:21:42.34748+03:00","close_reason":"Directory creation implemented with 5 tests","labels":["m3-agent"],"dependencies":[{"issue_id":"ax-tgh.1","depends_on_id":"ax-tgh","type":"parent-child","created_at":"2026-01-27T00:18:45.060219+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-tgh.2","title":"F: Embed Ava Prompt Template","description":"## What\nEmbed ava.md.tmpl into the binary using go:embed.\n\n## Acceptance Criteria\n- [ ] Create internal/agent/embed.go\n- [ ] Use //go:embed directive for ava.md.tmpl\n- [ ] Export AvaPromptTemplate as string\n- [ ] Template content accessible at runtime\n- [ ] 2 tests pass\n\n## Implementation\n\n```go\npackage agent\n\nimport _ \"embed\"\n\n//go:embed prompts/ava.md.tmpl\nvar AvaPromptTemplate string\n```\n\n## Test Cases\n- TestAvaPromptTemplate_NotEmpty\n- TestAvaPromptTemplate_ContainsAvaIdentity\n\n## Files\n- internal/agent/embed.go\n- internal/agent/embed_test.go\n\n## Notes\n- ava.md.tmpl already exists (ax-isd done)\n- No template rendering yet, just embedding","status":"closed","priority":1,"issue_type":"feature","owner":"ye@deligoz.me","created_at":"2026-01-27T00:18:54.620784+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T00:22:38.411515+03:00","closed_at":"2026-01-27T00:22:38.411515+03:00","close_reason":"Ava template embedded with 2 tests","labels":["m3-agent"],"dependencies":[{"issue_id":"ax-tgh.2","depends_on_id":"ax-tgh","type":"parent-child","created_at":"2026-01-27T00:18:54.621567+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-tgh.3","title":"F: Scaffold Config Creation","description":"## What\nCreate minimal config.json during scaffold.\n\n## Acceptance Criteria\n- [ ] Add WriteConfig() to scaffold.go\n- [ ] Creates .axiom/config.json\n- [ ] Config contains: {\"version\":\"1.0.0\"}\n- [ ] Returns error if write fails\n- [ ] 2 tests pass\n\n## Implementation\n\n```go\nfunc WriteConfig(axiomDir string) error {\n    configPath := filepath.Join(axiomDir, \"config.json\")\n    config := []byte(`{\"version\":\"1.0.0\"}`)\n    \n    if err := os.WriteFile(configPath, config, 0o644); err != nil {\n        return fmt.Errorf(\"write config: %w\", err)\n    }\n    \n    return nil\n}\n```\n\n## Test Cases\n- TestWriteConfig_CreatesFile\n- TestWriteConfig_ValidJSON\n\n## Files\n- internal/scaffold/scaffold.go\n- internal/scaffold/scaffold_test.go\n\n## Dependencies\n- ax-tgh.1 (directory must exist first)","status":"closed","priority":1,"issue_type":"feature","owner":"ye@deligoz.me","created_at":"2026-01-27T00:19:02.418852+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T00:23:51.814465+03:00","closed_at":"2026-01-27T00:23:51.814465+03:00","close_reason":"Config creation implemented with 2 new tests","labels":["m3-agent"],"dependencies":[{"issue_id":"ax-tgh.3","depends_on_id":"ax-tgh","type":"parent-child","created_at":"2026-01-27T00:19:02.41963+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-tgh.3","depends_on_id":"ax-tgh.1","type":"blocks","created_at":"2026-01-27T00:19:02.42079+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-tgh.4","title":"F: Scaffold Write Ava Prompt","description":"## What\nWrite Ava prompt to .axiom/agents/ava/prompt.md during scaffold.\n\n## Acceptance Criteria\n- [ ] Add WriteAvaPrompt() to scaffold.go\n- [ ] Uses embedded AvaPromptTemplate\n- [ ] Writes to .axiom/agents/ava/prompt.md\n- [ ] Returns error if write fails\n- [ ] 2 tests pass\n\n## Implementation\n\n```go\nimport \"github.com/deligoez/axiom/internal/agent\"\n\nfunc WriteAvaPrompt(axiomDir string) error {\n    promptPath := filepath.Join(axiomDir, \"agents\", \"ava\", \"prompt.md\")\n    \n    if err := os.WriteFile(promptPath, []byte(agent.AvaPromptTemplate), 0o644); err != nil {\n        return fmt.Errorf(\"write ava prompt: %w\", err)\n    }\n    \n    return nil\n}\n```\n\n## Test Cases\n- TestWriteAvaPrompt_CreatesFile\n- TestWriteAvaPrompt_ContentMatches\n\n## Files\n- internal/scaffold/scaffold.go\n- internal/scaffold/scaffold_test.go\n\n## Dependencies\n- ax-tgh.1 (directory must exist)\n- ax-tgh.2 (template must be embedded)","status":"closed","priority":1,"issue_type":"feature","owner":"ye@deligoz.me","created_at":"2026-01-27T00:19:11.456207+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T00:25:57.104887+03:00","closed_at":"2026-01-27T00:25:57.104887+03:00","close_reason":"Write Ava prompt implemented with 2 new tests","labels":["m3-agent"],"dependencies":[{"issue_id":"ax-tgh.4","depends_on_id":"ax-tgh","type":"parent-child","created_at":"2026-01-27T00:19:11.457034+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-tgh.4","depends_on_id":"ax-tgh.1","type":"blocks","created_at":"2026-01-27T00:19:11.458267+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-tgh.4","depends_on_id":"ax-tgh.2","type":"blocks","created_at":"2026-01-27T00:19:11.459186+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-tgh.5","title":"F: Main.go Scaffold Integration","description":"## What\nAdd scaffold check to main.go - create .axiom/ if it doesn't exist.\n\n## Acceptance Criteria\n- [ ] Check if .axiom/ exists on startup\n- [ ] If not, call scaffold functions\n- [ ] Print message: \"Created .axiom/ directory\"\n- [ ] Continue with normal startup\n- [ ] Integration test passes\n\n## Implementation\n\n```go\nfunc main() {\n    // Check and scaffold if needed\n    axiomDir := \".axiom\"\n    if _, err := os.Stat(axiomDir); os.IsNotExist(err) {\n        if err := scaffold.Scaffold(\".\"); err != nil {\n            log.Fatalf(\"scaffold error: %v\", err)\n        }\n        if err := scaffold.WriteConfig(axiomDir); err != nil {\n            log.Fatalf(\"config error: %v\", err)\n        }\n        if err := scaffold.WriteAvaPrompt(axiomDir); err != nil {\n            log.Fatalf(\"prompt error: %v\", err)\n        }\n        fmt.Println(\"Created .axiom/ directory\")\n    }\n    \n    // ... existing server code ...\n}\n```\n\n## Test Cases\n- TestMain_ScaffoldsOnFirstRun (integration)\n\n## Files\n- cmd/axiom/main.go\n\n## Dependencies\n- All scaffold functions must be ready","status":"closed","priority":1,"issue_type":"feature","owner":"ye@deligoz.me","created_at":"2026-01-27T00:19:21.898387+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T00:26:38.18612+03:00","closed_at":"2026-01-27T00:26:38.18612+03:00","close_reason":"Main.go scaffold integration complete","labels":["m3-agent"],"dependencies":[{"issue_id":"ax-tgh.5","depends_on_id":"ax-tgh","type":"parent-child","created_at":"2026-01-27T00:19:21.899181+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-tgh.5","depends_on_id":"ax-tgh.1","type":"blocks","created_at":"2026-01-27T00:19:21.900519+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-tgh.5","depends_on_id":"ax-tgh.2","type":"blocks","created_at":"2026-01-27T00:19:21.901951+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-tgh.5","depends_on_id":"ax-tgh.3","type":"blocks","created_at":"2026-01-27T00:19:21.903064+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-tgh.5","depends_on_id":"ax-tgh.4","type":"blocks","created_at":"2026-01-27T00:19:21.904071+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-tpo","title":"UI: Preserve conversation history on user respond","description":"## Problem\nWhen user sends a message, previous messages are cleared from UI.\n\n## Solution\n- Don't clear #ava-output when user responds\n- Append new messages to existing content\n- Show user's message in UI before agent responds\n\n## Acceptance Criteria\n- [ ] Previous agent messages stay visible\n- [ ] User's message appears in chat (styled differently)\n- [ ] New agent response appends below\n- [ ] 2 tests pass","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T09:53:21.121461+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T09:55:44.238245+03:00","closed_at":"2026-01-27T09:55:44.238245+03:00","close_reason":"Closed","labels":["m6-ui"]}
{"id":"ax-tqe","title":"PLAN: Phase 2 ANALYZE Completion Criteria","description":"## What\nDefine explicit completion criteria for Axel's Phase 2 (ANALYZE) to enable clear transition to Phase 3 (PROPOSE).\n\n## Important Clarification\n\n**Phase 2 is about GOAL-SPECIFIC analysis, not project-level setup!**\n\n| What | Who Does It | When |\n|------|-------------|------|\n| Tech stack detection | Ava | Project setup (once) |\n| Verification commands | Ava | Project setup (once) |\n| Relevant files for goal | Axel Phase 2 | Every planning cycle |\n| Existing patterns for goal | Axel Phase 2 | Every planning cycle |\n\nAva's project-level analysis is DONE before Axel starts. Axel reads from config.json.\n\n## Problem\nCurrent docs/03-planning.md line 296 says Phase 2 completes when \"Context gathered\" but there's no explicit checklist. This ambiguity causes unclear transition to Phase 3.\n\n## Solution: GoalContext Struct\n\n```go\n// GoalContext is gathered by Axel in Phase 2 (goal-specific, not project-level)\ntype GoalContext struct {\n    // Files relevant to THIS goal (not all project files)\n    RelevantFiles    []RelevantFile    `json:\"relevantFiles\"`\n    \n    // Patterns that should be followed for THIS feature\n    ApplicablePatterns []PatternInfo   `json:\"applicablePatterns\"`\n    \n    // Other features that interact with THIS goal\n    Dependencies       []string        `json:\"dependencies\"`\n    \n    // Completed when all above are populated\n    AnalysisComplete   bool            `json:\"analysisComplete\"`\n}\n\ntype RelevantFile struct {\n    Path        string `json:\"path\"`\n    Relevance   string `json:\"relevance\"`   // \"modify\", \"reference\", \"create\"\n    Description string `json:\"description\"` // Why this file matters\n}\n```\n\n## Phase 2 Completion Checklist\n\nAxel Phase 2 is complete when:\n\n### 1. Relevant Files Identified\n- [ ] Files that will be MODIFIED for this goal\n- [ ] Files that serve as REFERENCE (patterns to follow)\n- [ ] New files that will be CREATED\n- Each file has clear relevance description\n\n### 2. Applicable Patterns Found\n- [ ] Naming conventions for this feature type\n- [ ] Test patterns used in similar features\n- [ ] Structure patterns (folders, modules)\n\n### 3. Dependencies Understood\n- [ ] Features that THIS goal will affect\n- [ ] Features that THIS goal needs to integrate with\n- [ ] No circular dependency concerns\n\n### Completion Signal\n```\nPhase 2 → Phase 3 when:\n  GoalContext.RelevantFiles   is non-empty AND\n  GoalContext.AnalysisComplete = true\n\nAxel emits: \u003caxiom\u003ePHASE_COMPLETE\u003c/axiom\u003e\n```\n\n## Examples\n\n### Example: \"Add user authentication\" goal\n\n**Phase 2 Output:**\n```json\n{\n  \"relevantFiles\": [\n    {\"path\": \"internal/user/user.go\", \"relevance\": \"reference\", \"description\": \"User model to extend\"},\n    {\"path\": \"internal/api/routes.go\", \"relevance\": \"modify\", \"description\": \"Add auth endpoints\"},\n    {\"path\": \"internal/auth/jwt.go\", \"relevance\": \"create\", \"description\": \"New JWT service\"}\n  ],\n  \"applicablePatterns\": [\n    {\"name\": \"Handler pattern\", \"file\": \"internal/api/health.go\", \"description\": \"HTTP handler structure\"}\n  ],\n  \"dependencies\": [\"user-profile\", \"session-management\"],\n  \"analysisComplete\": true\n}\n```\n\n### Example: \"Fix login bug\" goal\n\n**Phase 2 Output:**\n```json\n{\n  \"relevantFiles\": [\n    {\"path\": \"internal/auth/login.go\", \"relevance\": \"modify\", \"description\": \"Bug location\"},\n    {\"path\": \"internal/auth/login_test.go\", \"relevance\": \"modify\", \"description\": \"Add test for bug\"}\n  ],\n  \"applicablePatterns\": [],\n  \"dependencies\": [],\n  \"analysisComplete\": true\n}\n```\n\n## Transition to Phase 3\n\nWhen Phase 2 completes:\n1. Axel has GoalContext populated\n2. Axel emits PHASE_COMPLETE signal\n3. AXIOM transitions to Phase 3\n4. Axel starts PROPOSE phase with GoalContext available\n\n## What Phase 2 is NOT\n\nPhase 2 does NOT:\n- Detect tech stack (Ava did this → config.json)\n- Find verification commands (Ava did this → config.json)\n- Setup project (Ava did this)\n- Analyze unrelated code (only THIS goal)\n\n## Deliverables\n- [ ] Add GoalContext struct definition to docs/03-planning.md\n- [ ] Add completion checklist\n- [ ] Add examples (new feature, bug fix)\n- [ ] Update \"When Complete\" column in phase table\n- [ ] Add transition signal documentation\n\n## References\n- docs/03-planning.md:296 (Phase 2 completion: \"Context gathered\")\n- docs/03-planning.md:328-354 (Phase 2: ANALYZE section)\n- ax-0z9 (Ava role - does project-level analysis)\n- ax-isd (Ava prompt - creates config.json)\n\n## Related\n- ax-ns4 (Axel prompt - uses this criteria)","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T22:48:14.332307+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T23:48:18.053135+03:00","closed_at":"2026-01-26T23:48:18.053135+03:00","close_reason":"Phase 2 completion criteria documented. GoalContext struct added with examples.","labels":["planning"]}
{"id":"ax-tz5","title":"DOC: Auto-merge failure recovery path","description":"## What\nDocument what happens when SIMPLE auto-resolve fails in 06-integration.md.\n\n## Current State\n- SIMPLE conflicts auto-resolve\n- If auto-resolve fails, behavior unclear\n\n## Add\n```markdown\n### Auto-Resolution Failure\nIf auto-resolution produces invalid code (fails verification):\n1. Reclassify conflict as MEDIUM\n2. Escalate to Resolver Rex\n3. Log failure reason and original conflict\n```\n\n## Files\n- docs/06-integration.md","status":"closed","priority":3,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T18:12:57.299727+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T18:15:56.758532+03:00","closed_at":"2026-01-26T18:15:56.758532+03:00","close_reason":"Closed","labels":["docs"]}
{"id":"ax-tz6","title":"DOC: Human Escalation Timeout","description":"## Context\nBefore starting, review docs/06-integration.md (Complex conflicts) and docs/11-review.md.\n\n## Problem\nWhen conflict escalates to human and human is unavailable (e.g., overnight),\ntask waits indefinitely. No timeout or fallback documented.\n\n## Acceptance Criteria\n- [ ] Document escalation timeout config\n- [ ] Define fallback: skip task, defer, auto-retry later\n- [ ] Add notification options (email, webhook)\n- [ ] Update 06-integration.md Complex conflict section\n\n## Files\n- docs/06-integration.md\n- docs/01-configuration.md\n- docs/12-hooks.md (on-escalation hook?)","status":"closed","priority":2,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T16:01:30.090989+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T17:18:56.982212+03:00","closed_at":"2026-01-26T17:18:56.982212+03:00","close_reason":"Closed","labels":["m4-integration"]}
{"id":"ax-ulo","title":"DOC: Consolidate Repeated Tables","description":"## Context\nScout review found same tables repeated across multiple files:\n- Persona table: 05-agents.md, 13-reference.md, 16-glossary.md\n- Signal protocol: 13-reference.md, 16-glossary.md\n- Case types: 04-cases.md, 13-reference.md, 16-glossary.md\n\n## Problem\nMaintenance burden - updates need to happen in multiple places.\n\n## Acceptance Criteria\n- [ ] Keep full persona table in 05-agents.md, add cross-references elsewhere\n- [ ] Keep signal protocol in 13-reference.md, link from glossary\n- [ ] Keep case types detail in 04-cases.md, brief reference elsewhere\n- [ ] All cross-references working\n\n## Files\n- docs/05-agents.md (primary for personas)\n- docs/13-reference.md (primary for signals)\n- docs/04-cases.md (primary for case types)\n- docs/16-glossary.md (add cross-references)","status":"closed","priority":3,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T17:47:43.657114+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T18:05:26.307053+03:00","closed_at":"2026-01-26T18:05:26.307053+03:00","close_reason":"Closed","labels":["docs"]}
{"id":"ax-upn","title":"DOC: Mutation API Explanation","description":"## Context\n10-interface.md shows daemon.GetMutations() in SSE code but doesn't explain:\n- What mutations are\n- Mutation schema/format\n- When mutations are created\n- Mutation → SSE event mapping\n\n## Acceptance Criteria\n- [ ] Add \"Mutations System\" section before SSE Implementation\n- [ ] Document mutation format (id, timestamp, operation, entityType, changes)\n- [ ] Document mutation sources\n- [ ] Add mutation → event mapping table\n\n## Files\n- docs/10-interface.md","status":"closed","priority":3,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T17:48:46.907245+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T18:05:26.325378+03:00","closed_at":"2026-01-26T18:05:26.325378+03:00","close_reason":"Closed","labels":["docs"]}
{"id":"ax-urm","title":"F: Signal Types and Constants","description":"## What\nMinimal signal parser for AVA_COMPLETE signal.\n\n## Acceptance Criteria\n- [ ] `Signal` struct with Type and Payload fields\n- [ ] `Parse(output string) []Signal` extracts signals from text\n- [ ] Handles: `\u003caxiom\u003eTYPE\u003c/axiom\u003e` and `\u003caxiom\u003eTYPE:payload\u003c/axiom\u003e`\n- [ ] `AVA_COMPLETE` constant defined\n- [ ] 4 tests pass\n\n## Files\n- internal/signal/signal.go\n- internal/signal/signal_test.go\n\n## Notes\n- Minimal implementation - only what's needed for Ava\n- More signal types added later as other agents are implemented","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T00:29:20.82285+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T01:08:01.3918+03:00","closed_at":"2026-01-27T01:08:01.3918+03:00","close_reason":"Closed","labels":["m3-agent"],"dependencies":[{"issue_id":"ax-urm","depends_on_id":"ax-rf9","type":"blocks","created_at":"2026-01-27T00:29:42.357652+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-v50","title":"Update startup flow for Init Mode UI","description":"## What\nChange main.go to start server before Ava, show Init Mode in browser.\n\n## Acceptance Criteria\n- [ ] Server starts immediately after scaffold\n- [ ] Browser opens to /init (not /)\n- [ ] Ava spawns when /init page loads (via SSE)\n- [ ] After Init complete, redirects to main UI\n- [ ] 2 tests pass\n\n## Current Flow\naxiom → scaffold → Ava (blocking) → server\n\n## Target Flow  \naxiom → scaffold → server → browser /init → SSE triggers Ava → complete → redirect /\n\n## Files\n- cmd/axiom/main.go\n- internal/web/routes.go (if exists)","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T01:34:53.662692+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T01:44:43.868224+03:00","closed_at":"2026-01-27T01:44:43.868224+03:00","close_reason":"Closed","labels":["m6-ui"],"dependencies":[{"issue_id":"ax-v50","depends_on_id":"ax-cju","type":"blocks","created_at":"2026-01-27T01:34:53.664038+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-vpp","title":"DOC: Workspace Cleanup Timing","description":"## Missing Documentation\nWorkspace lifecycle mentioned in 06-integration.md but cleanup timing unclear:\n\n1. **When Cleaned Up**\n   - Only after successful merge?\n   - After rollback?\n   - After Task failure?\n   - Manual cleanup only?\n\n2. **Cleanup Triggers**\n   - Automatic with cleanupOnSuccess?\n   - Disk space threshold?\n   - Age-based expiry?\n\n3. **Preserved Workspaces**\n   - Which failures preserve workspace?\n   - How long kept for debugging?\n   - How to manually clean?\n\n## Location\n- docs/06-integration.md - expand \"Workspace Lifecycle\" section\n\n## Expected Content\n```markdown\n### Workspace Cleanup Timing\n\n| Scenario | Cleanup | When |\n|----------|---------|------|\n| Merge success | Automatic | Immediately (if cleanupOnSuccess) |\n| Merge conflict | Keep | Until resolved |\n| Task failed | Keep | Until manual cleanup |\n| Rollback | Remove | On rollback command |\n| Disk \u003e90% | Auto-clean old | Oldest workspaces first |\n\n**Manual cleanup:**\n\\`\\`\\`bash\nrm -rf .workspaces/echo-001-task-xxx/\n\\`\\`\\`\n```","status":"closed","priority":3,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T16:55:32.878418+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T17:24:25.860984+03:00","closed_at":"2026-01-26T17:24:25.860984+03:00","close_reason":"Closed","labels":["m4-integration"]}
{"id":"ax-vzm","title":"DOC: Agent ID Initial State","description":"## Missing Documentation\n05-agents.md explains ID assignment but not initial state:\n\n1. **First-Time AXIOM Session**\n   - counters.json doesn't exist yet\n   - What are initial counter values?\n   - Who creates the file?\n\n2. **Counter Initialization**\n   - All personas start at 0 or 1?\n   - File created atomically?\n   - Race condition protection?\n\n## Location\n- docs/05-agents.md - add \"Initial Counter State\" subsection\n\n## Expected Content\n```markdown\n### Initial Counter State\n\nOn first AXIOM run, Ash creates `.axiom/metrics/counters.json`:\n\n\\`\\`\\`json\n{\n  \"ava\": 0,\n  \"axel\": 0,\n  \"echo\": 0,\n  \"rex\": 0,\n  \"cleo\": 0,\n  \"dex\": 0,\n  \"max\": 0,\n  \"ash\": 0\n}\n\\`\\`\\`\n\nFirst spawn of any persona increments from 0 → 1, yielding ID like \\`echo-001\\`.\n```","status":"closed","priority":3,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T16:55:34.857848+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T17:25:22.426835+03:00","closed_at":"2026-01-26T17:25:22.426835+03:00","close_reason":"Closed","labels":["m1-init"]}
{"id":"ax-wdq","title":"F: Embed Prompt Templates","description":"## What\nUse Go embed.FS to embed prompt templates into the binary.\n\n## Acceptance Criteria\n- [ ] Create internal/agent/embed.go with //go:embed directive\n- [ ] Embed all .md.tmpl files from internal/agent/prompts/\n- [ ] Export PromptTemplates embed.FS variable\n- [ ] 2 tests pass (embed exists, template readable)\n\n## Files\n- internal/agent/embed.go\n- internal/agent/embed_test.go\n\n## Dependencies\n- Requires ax-tgh plan to be complete\n- Requires prompt templates to exist (ax-isd done, ax-ns4, ax-4up pending)","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T23:58:55.703558+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T00:01:02.85954+03:00","closed_at":"2026-01-27T00:01:02.85954+03:00","close_reason":"Created without approval - cancelling","labels":["m3-agent"],"dependencies":[{"issue_id":"ax-wdq","depends_on_id":"ax-tgh","type":"blocks","created_at":"2026-01-26T23:58:55.704715+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-whl","title":"Verify real-time streaming works correctly","description":"## What\nEnsure agent output streams to UI character-by-character or line-by-line in real-time.\n\n## Verify\n- Each line appears immediately as agent outputs it\n- No buffering delays\n- SSE connection stays open during output\n\n## If Not Working\n- Check flush frequency in SSE handler\n- Check htmx SSE extension behavior\n- Consider character-level streaming vs line-level","status":"closed","priority":2,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T09:53:21.284567+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T10:00:34.193798+03:00","closed_at":"2026-01-27T10:00:34.193798+03:00","close_reason":"Closed","labels":["m6-ui"]}
{"id":"ax-wu9","title":"PLAN: Analysis State Schema (analysis.json)","description":"## What\nDefine the schema for `.axiom/state/analysis.json` - the output of Phase 2 ANALYZE.\n\n## Context\nPhase 2 produces codebase analysis that:\n1. Informs Phase 3 proposals\n2. Gets injected into Echo's context during implementation\n3. Persists across sessions\n4. Differs for greenfield vs brownfield\n\n## Proposed Schema\n\n### Full Schema\n```json\n{\n  \"version\": 1,\n  \"analyzedAt\": \"2026-01-26T12:00:00Z\",\n  \"projectMode\": \"brownfield\",\n  \n  \"techStack\": {\n    \"language\": \"go\",\n    \"languageVersion\": \"1.22\",\n    \"framework\": null,\n    \"buildTool\": \"go\",\n    \"packageManager\": null,\n    \"detected\": true,\n    \"source\": \"go.mod\"\n  },\n  \n  \"structure\": {\n    \"entryPoints\": [\"cmd/axiom/main.go\"],\n    \"packages\": [\"internal/case\", \"internal/web\", \"internal/agent\"],\n    \"testPattern\": \"*_test.go\",\n    \"sourceRoot\": \".\",\n    \"hasMonorepo\": false\n  },\n  \n  \"verification\": {\n    \"commands\": [\n      {\n        \"command\": \"go test ./...\",\n        \"type\": \"test\",\n        \"detected\": true,\n        \"source\": \"standard\"\n      },\n      {\n        \"command\": \"golangci-lint run\",\n        \"type\": \"lint\",\n        \"detected\": true,\n        \"source\": \".golangci.yml\"\n      },\n      {\n        \"command\": \"go build ./...\",\n        \"type\": \"build\",\n        \"detected\": true,\n        \"source\": \"standard\"\n      }\n    ],\n    \"defaultTimeout\": 300\n  },\n  \n  \"patterns\": {\n    \"testing\": {\n      \"framework\": \"testing\",\n      \"pattern\": \"table-driven\",\n      \"location\": \"same-package\"\n    },\n    \"naming\": {\n      \"files\": \"snake_case\",\n      \"functions\": \"camelCase\",\n      \"types\": \"PascalCase\"\n    },\n    \"structure\": \"feature-based\"\n  },\n  \n  \"conventions\": {\n    \"naming\": \"camelCase functions, PascalCase types\",\n    \"testing\": \"Table-driven tests, same package\",\n    \"structure\": \"cmd/ for entry, internal/ for packages\"\n  },\n  \n  \"relevantFiles\": [\n    \"internal/case/store.go\",\n    \"internal/web/server.go\"\n  ],\n  \n  \"existingPatterns\": [\n    {\n      \"name\": \"JSONL Storage\",\n      \"file\": \"internal/case/store.go\",\n      \"description\": \"Uses JSONL for case persistence\"\n    },\n    {\n      \"name\": \"HTTP Handler\",\n      \"file\": \"internal/web/server.go\",\n      \"description\": \"Standard http.Handler with ServeMux\"\n    }\n  ],\n  \n  \"analysisComplete\": {\n    \"techStackDetected\": true,\n    \"verificationFound\": true,\n    \"structureScanned\": true,\n    \"patternsChecked\": true\n  }\n}\n```\n\n### Greenfield Variant\n```json\n{\n  \"version\": 1,\n  \"analyzedAt\": \"2026-01-26T12:00:00Z\",\n  \"projectMode\": \"greenfield\",\n  \n  \"techStack\": {\n    \"language\": \"go\",\n    \"languageVersion\": \"1.22\",\n    \"framework\": \"htmx\",\n    \"buildTool\": \"go\",\n    \"packageManager\": null,\n    \"detected\": false,\n    \"source\": \"user_choice\"\n  },\n  \n  \"structure\": {\n    \"entryPoints\": [\"cmd/app/main.go\"],\n    \"packages\": [\"internal/handler\", \"internal/model\"],\n    \"testPattern\": \"*_test.go\",\n    \"sourceRoot\": \".\",\n    \"hasMonorepo\": false,\n    \"proposed\": true\n  },\n  \n  \"verification\": {\n    \"commands\": [\n      {\n        \"command\": \"go test ./...\",\n        \"type\": \"test\",\n        \"detected\": false,\n        \"source\": \"axel_recommendation\"\n      },\n      {\n        \"command\": \"golangci-lint run\",\n        \"type\": \"lint\",\n        \"detected\": false,\n        \"source\": \"axel_recommendation\"\n      }\n    ],\n    \"defaultTimeout\": 300\n  },\n  \n  \"conventions\": {\n    \"naming\": \"Standard Go conventions\",\n    \"testing\": \"Table-driven tests\",\n    \"structure\": \"Feature-based internal packages\"\n  },\n  \n  \"analysisComplete\": {\n    \"stackApproved\": true,\n    \"structureApproved\": true,\n    \"conventionsApproved\": true\n  }\n}\n```\n\n## Go Structs\n\n```go\npackage analysis\n\nimport \"time\"\n\ntype Analysis struct {\n    Version     int       `json:\"version\"`\n    AnalyzedAt  time.Time `json:\"analyzedAt\"`\n    ProjectMode string    `json:\"projectMode\"` // \"greenfield\" or \"brownfield\"\n    \n    TechStack         TechStack         `json:\"techStack\"`\n    Structure         Structure         `json:\"structure\"`\n    Verification      Verification      `json:\"verification\"`\n    Patterns          Patterns          `json:\"patterns\"`\n    Conventions       Conventions       `json:\"conventions\"`\n    RelevantFiles     []string          `json:\"relevantFiles\"`\n    ExistingPatterns  []PatternInfo     `json:\"existingPatterns\"`\n    AnalysisComplete  AnalysisComplete  `json:\"analysisComplete\"`\n}\n\ntype TechStack struct {\n    Language        string `json:\"language\"`\n    LanguageVersion string `json:\"languageVersion,omitempty\"`\n    Framework       string `json:\"framework,omitempty\"`\n    BuildTool       string `json:\"buildTool\"`\n    PackageManager  string `json:\"packageManager,omitempty\"`\n    Detected        bool   `json:\"detected\"`\n    Source          string `json:\"source\"` // file name or \"user_choice\"\n}\n\ntype Structure struct {\n    EntryPoints  []string `json:\"entryPoints\"`\n    Packages     []string `json:\"packages\"`\n    TestPattern  string   `json:\"testPattern\"`\n    SourceRoot   string   `json:\"sourceRoot\"`\n    HasMonorepo  bool     `json:\"hasMonorepo\"`\n    Proposed     bool     `json:\"proposed,omitempty\"` // true for greenfield\n}\n\ntype Verification struct {\n    Commands       []VerificationCommand `json:\"commands\"`\n    DefaultTimeout int                   `json:\"defaultTimeout\"`\n}\n\ntype VerificationCommand struct {\n    Command  string `json:\"command\"`\n    Type     string `json:\"type\"` // \"test\", \"lint\", \"build\", \"typecheck\"\n    Detected bool   `json:\"detected\"`\n    Source   string `json:\"source\"`\n    Timeout  int    `json:\"timeout,omitempty\"`\n    Required bool   `json:\"required,omitempty\"`\n}\n\ntype Patterns struct {\n    Testing   TestingPattern `json:\"testing\"`\n    Naming    NamingPattern  `json:\"naming\"`\n    Structure string         `json:\"structure\"`\n}\n\ntype TestingPattern struct {\n    Framework string `json:\"framework\"`\n    Pattern   string `json:\"pattern\"`\n    Location  string `json:\"location\"`\n}\n\ntype NamingPattern struct {\n    Files     string `json:\"files\"`\n    Functions string `json:\"functions\"`\n    Types     string `json:\"types\"`\n}\n\ntype Conventions struct {\n    Naming    string `json:\"naming\"`\n    Testing   string `json:\"testing\"`\n    Structure string `json:\"structure\"`\n}\n\ntype PatternInfo struct {\n    Name        string `json:\"name\"`\n    File        string `json:\"file\"`\n    Description string `json:\"description\"`\n}\n\ntype AnalysisComplete struct {\n    // Brownfield fields\n    TechStackDetected bool `json:\"techStackDetected,omitempty\"`\n    VerificationFound bool `json:\"verificationFound,omitempty\"`\n    StructureScanned  bool `json:\"structureScanned,omitempty\"`\n    PatternsChecked   bool `json:\"patternsChecked,omitempty\"`\n    \n    // Greenfield fields\n    StackApproved       bool `json:\"stackApproved,omitempty\"`\n    StructureApproved   bool `json:\"structureApproved,omitempty\"`\n    ConventionsApproved bool `json:\"conventionsApproved,omitempty\"`\n}\n\nfunc (a *AnalysisComplete) IsReady(mode string) bool {\n    if mode == \"brownfield\" {\n        return a.TechStackDetected \u0026\u0026 a.VerificationFound \u0026\u0026 a.StructureScanned\n    }\n    // greenfield\n    return a.StackApproved \u0026\u0026 a.StructureApproved \u0026\u0026 a.ConventionsApproved\n}\n```\n\n## File Location\n```\n.axiom/\n├── config.json           # User config\n├── cases.jsonl           # Case storage\n└── state/\n    ├── analysis.json     # THIS FILE\n    ├── planning-state.json\n    └── snapshot.json\n```\n\n## Deliverables\n- [ ] Define JSON schema with all fields\n- [ ] Define Go structs in internal/analysis/\n- [ ] Define brownfield vs greenfield variants\n- [ ] Define IsReady() completion logic\n- [ ] Document in docs (new file or add to existing)\n- [ ] Add state/ directory to .axiom/ structure docs\n\n## References\n- docs/03-planning.md:334-353 (CodebaseContext struct - partial)\n- docs/01-configuration.md:25-29 (verification commands)\n- gastown approach: Mayor doesn't store analysis, but we need persistence\n\n## Related\n- ax-tqe (Phase 2 completion criteria - uses AnalysisComplete)\n- ax-c4g (Greenfield vs Brownfield)\n- ax-ns4 (Axel prompt - injects analysis context)","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T22:50:44.703951+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T23:19:22.496252+03:00","closed_at":"2026-01-26T23:19:22.496252+03:00","close_reason":"CANCELLED: Decision made - no separate analysis.json file. All config in config.json only.","labels":["planning"],"dependencies":[{"issue_id":"ax-wu9","depends_on_id":"ax-c4g","type":"blocks","created_at":"2026-01-26T22:51:48.376544+03:00","created_by":"Yunus Emre Deligöz"},{"issue_id":"ax-wu9","depends_on_id":"ax-isd","type":"blocks","created_at":"2026-01-26T23:00:32.898167+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-wwt","title":"DOC: Review Mode Decision Tree","description":"## Context\n11-review.md lists 4 review modes but lacks decision guidance for when to use which.\n\n## Problem\nUsers can't easily decide which review mode fits their situation.\n\n## Acceptance Criteria\n- [ ] Add \"Choosing Review Mode\" section with decision tree\n- [ ] Risk matrix (mode vs risk vs speed)\n- [ ] Use case examples for each mode\n\n## Files\n- docs/11-review.md\n\n## Example Decision Tree\n```\nIs this security/architecture critical?\n  ├─ Yes → per-task (never auto-approve)\n  └─ No → Are you confident in verification commands?\n      ├─ Yes → auto-approve (fast iteration)\n      └─ No → batch (review when ready)\n```","status":"closed","priority":3,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T17:47:34.674046+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T17:55:09.7433+03:00","closed_at":"2026-01-26T17:55:09.7433+03:00","close_reason":"Closed","labels":["docs"]}
{"id":"ax-x7u","title":"DOC: Concurrent Merge Protection","description":"## Context\nBefore starting, review docs/06-integration.md thoroughly.\n\n## Problem\nQueue is FIFO but concurrent merge protection not explicitly documented.\nWhat prevents two merges from running simultaneously?\n\n## Acceptance Criteria\n- [ ] Document merge mutex/lock mechanism\n- [ ] Clarify single-threaded merge worker\n- [ ] Document queue processing guarantees\n- [ ] Add state diagram for merge worker\n\n## Files\n- docs/06-integration.md","status":"closed","priority":2,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T16:01:11.836487+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T17:17:35.754622+03:00","closed_at":"2026-01-26T17:17:35.754622+03:00","close_reason":"Closed","labels":["m4-integration"],"dependencies":[{"issue_id":"ax-x7u","depends_on_id":"ax-oui","type":"blocks","created_at":"2026-01-26T16:01:53.802737+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-yh6","title":"DOC: Label Rules Precedence","description":"## Context\nScout review found label rules shown but precedence for multiple labels not explained.\n\n## Acceptance Criteria\n- [ ] Document precedence order in 11-review.md\n- [ ] Clarify: most restrictive rule wins\n\n## Files\n- docs/11-review.md","status":"closed","priority":3,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T17:08:36.23068+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T17:30:09.355733+03:00","closed_at":"2026-01-26T17:30:09.355733+03:00","close_reason":"Closed","labels":["m4-review"]}
{"id":"ax-yy4","title":"BUG: Sadece version içeren config 'configured' sayılıyor","description":"## Problem\nConfig dosyası sadece {\"version\":\"1.0.0\"} içeriyorsa Ava \"configured\" sanıyor.\nAma bu aslında boş/incomplete bir config.\n\n## Çözüm\nPrompt'ta belirt:\n- Sadece version varsa → ONBOARDING FLOW (sıfırdan başla)\n- verification komutları varsa → RETURNING USER FLOW\n\n## Files\n- internal/agent/prompts/ava.md.tmpl","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-27T10:19:42.550335+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-27T10:21:05.366994+03:00","closed_at":"2026-01-27T10:21:05.366994+03:00","close_reason":"Closed","labels":["bug"]}
{"id":"ax-z50","title":"DOC: Add Emojis to Prompts.md Headers","description":"## Context\n14-prompts.md persona headers lack emojis while other docs (05-agents.md, 13-reference.md) include them.\n\n## Acceptance Criteria\n- [ ] Add persona emojis to all headers in 14-prompts.md\n- [ ] Match emoji usage in other docs\n\nExample:\n- \"## Curator Cleo\" → \"## 💡 Curator Cleo\"\n\n## Files\n- docs/14-prompts.md","status":"closed","priority":3,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T17:49:16.992748+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T18:05:26.335348+03:00","closed_at":"2026-01-26T18:05:26.335348+03:00","close_reason":"Closed","labels":["docs"]}
{"id":"ax-zgm","title":"DOC: Discovery View Generation Details","description":"## Context\n08-discovery.md mentions discoveries.md files are \"views generated from Discovery cases\" but doesn't explain:\n- When/how views are generated\n- What triggers regeneration\n- Format of generated markdown\n\n## Acceptance Criteria\n- [ ] Add \"Discovery View Generation\" section\n- [ ] Document regeneration triggers\n- [ ] Show example generated format\n\n## Files\n- docs/08-discovery.md","status":"closed","priority":3,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T17:48:23.645923+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T18:05:26.319067+03:00","closed_at":"2026-01-26T18:05:26.319067+03:00","close_reason":"Closed","labels":["docs"]}
{"id":"ax-zny","title":"PLAN: MVP-01 - Walking Skeleton","description":"## Goal\nSee a web page with header/footer running locally.\n\n## What We'll SEE\n┌─────────────────────────────────────────┐\n│  AXIOM                        [status]  │\n├─────────────────────────────────────────┤\n│                                         │\n│         (placeholder content)           │\n│                                         │\n├─────────────────────────────────────────┤\n│  © 2025 AXIOM                           │\n└─────────────────────────────────────────┘\n\n## Minimum Infrastructure\n- Go web server (net/http)\n- HTML template with header/footer\n- `make run` command\n\n## PHP/Laravel Equivalent\n`laravel new \u0026\u0026 php artisan serve` → Welcome page\n\n## Success Criteria\n- `make run` starts server\n- Browser shows page with header/footer\n- Server stops cleanly with Ctrl+C","status":"closed","priority":1,"issue_type":"epic","owner":"ye@deligoz.me","created_at":"2026-01-26T21:11:02.007532+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T21:16:04.481329+03:00","closed_at":"2026-01-26T21:16:04.481329+03:00","close_reason":"Closed","labels":["mvp"]}
{"id":"ax-zny.1","title":"F01: Web Server with Template","description":"## Parent Grey\nax-zny: PLAN: MVP-01 - Walking Skeleton\n\n## Atomic Feature\n`make run` başlatır, tarayıcıda header/footer olan sayfa görünür.\n\n## PHP/Laravel Equivalent\n`php artisan serve` → Welcome page with layout\n\n## Success Criteria\n- [ ] `make run` starts server on :8080\n- [ ] GET / returns HTML page\n- [ ] Page has header with \"AXIOM\" title\n- [ ] Page has footer\n- [ ] Ctrl+C stops server cleanly\n\n## Expected Greens\nTBD after discussion","status":"closed","priority":1,"issue_type":"feature","owner":"ye@deligoz.me","created_at":"2026-01-26T21:15:57.246333+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T21:28:50.743515+03:00","closed_at":"2026-01-26T21:28:50.743515+03:00","close_reason":"Closed","labels":["mvp"],"dependencies":[{"issue_id":"ax-zny.1","depends_on_id":"ax-zny","type":"parent-child","created_at":"2026-01-26T21:15:57.247197+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-zny.1.1","title":"F01.1: HTTP server responds to GET /","description":"## Test Case\n`TestServer_GetRoot_Returns200`\n\n## Expected Behavior\nWhen GET / is called, server returns 200 OK\n\n## Acceptance\n- [ ] Test written and RED\n- [ ] Implementation GREEN\n- [ ] Committed\n\n## PHP Karşılığı\n`Route::get('/', fn() =\u003e 'ok')` + Feature test","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T21:18:30.155067+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T21:21:08.663319+03:00","closed_at":"2026-01-26T21:21:08.663319+03:00","close_reason":"Closed","labels":["mvp"],"dependencies":[{"issue_id":"ax-zny.1.1","depends_on_id":"ax-zny.1","type":"parent-child","created_at":"2026-01-26T21:18:30.155849+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-zny.1.2","title":"F01.2: Tailwind CSS setup","description":"## Test Case\nNo test - infrastructure/config\n\n## Expected Behavior\n- package.json with tailwindcss\n- tailwind.config.js configured\n- web/input.css with Tailwind directives\n- npm run build:css generates output\n\n## Acceptance\n- [ ] package.json exists\n- [ ] tailwind.config.js exists\n- [ ] npm run build:css works\n- [ ] Committed\n\n## PHP Karşılığı\nLaravel'de `npm install \u0026\u0026 npx tailwindcss init`","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T21:18:39.85795+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T21:23:49.346257+03:00","closed_at":"2026-01-26T21:23:49.346257+03:00","close_reason":"Closed","labels":["mvp"],"dependencies":[{"issue_id":"ax-zny.1.2","depends_on_id":"ax-zny.1","type":"parent-child","created_at":"2026-01-26T21:18:39.858798+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-zny.1.3","title":"F01.3: HTML template with header/footer","description":"## Test Case\nNo test - template file\n\n## Expected Behavior\nBase layout template with:\n- Header: AXIOM title\n- Main content area (placeholder)\n- Footer: copyright\n\n## Acceptance\n- [ ] internal/web/templates/layout.html exists\n- [ ] Has Tailwind classes for styling\n- [ ] Committed\n\n## PHP Karşılığı\n`resources/views/layouts/app.blade.php`","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T21:18:47.808792+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T21:24:26.807397+03:00","closed_at":"2026-01-26T21:24:26.807397+03:00","close_reason":"Closed","labels":["mvp"],"dependencies":[{"issue_id":"ax-zny.1.3","depends_on_id":"ax-zny.1","type":"parent-child","created_at":"2026-01-26T21:18:47.80965+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-zny.1.4","title":"F01.4: Server renders template with styles","description":"## Test Case\n`TestServer_GetRoot_ReturnsHTML`\n\n## Expected Behavior\nWhen GET / is called:\n- Returns HTML content-type\n- Response contains \"AXIOM\" in header\n- Response contains footer\n\n## Acceptance\n- [ ] Test written and RED\n- [ ] Implementation GREEN\n- [ ] Static files served from /static/\n- [ ] Committed\n\n## PHP Karşılığı\nController returns `view('layout')` with compiled CSS","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T21:18:57.311813+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T21:27:11.723374+03:00","closed_at":"2026-01-26T21:27:11.723374+03:00","close_reason":"Closed","labels":["mvp"],"dependencies":[{"issue_id":"ax-zny.1.4","depends_on_id":"ax-zny.1","type":"parent-child","created_at":"2026-01-26T21:18:57.312569+03:00","created_by":"Yunus Emre Deligöz"}]}
{"id":"ax-zny.1.5","title":"F01.5: Makefile dev target","description":"## Test Case\nNo test - build script\n\n## Expected Behavior\n- `make dev` runs both Go server and Tailwind watch\n- `make build:css` compiles Tailwind once\n- Ctrl+C stops both processes\n\n## Acceptance\n- [ ] Makefile updated with new targets\n- [ ] `make dev` works\n- [ ] Committed\n\n## PHP Karşılığı\n`npm run dev` ile Vite + `php artisan serve`","status":"closed","priority":1,"issue_type":"task","owner":"ye@deligoz.me","created_at":"2026-01-26T21:19:06.429062+03:00","created_by":"Yunus Emre Deligöz","updated_at":"2026-01-26T21:28:29.039827+03:00","closed_at":"2026-01-26T21:28:29.039827+03:00","close_reason":"Closed","labels":["mvp"],"dependencies":[{"issue_id":"ax-zny.1.5","depends_on_id":"ax-zny.1","type":"parent-child","created_at":"2026-01-26T21:19:06.429801+03:00","created_by":"Yunus Emre Deligöz"}]}
